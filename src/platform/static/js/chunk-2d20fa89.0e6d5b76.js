(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d20fa89"],{b522:function(e,t,s){"use strict";s.r(t),s("8e6e"),s("456d"),s("7f7f"),s("7514"),s("6762"),s("2fdb"),s("ac6a");var a=s("ade3"),n=s("2f62");function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function r(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){Object(a.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var i={computed:r({},Object(n.d)("fusionTask",["databaseConf"])),data:function(){return{storey:["au_ods","au_std","au_dwd","au_dwm","au_dws","au_app"],qzkOption:[{code:"au_pretank",label:"前置库",type:"0"}],databaseList:[{label:"前置库",options:[]},{label:"",options:[]}],nameMap:{0:"stepStart",au_ods:"stepOds",au_std:"stepStd",au_dwd:"stepDwd",au_dwm:"stepDwm",au_dws:"stepDws",au_app:"stepApp"},titleMap:{0:"开始",1:"归集层",2:"标准层",3:"基础层",4:"主题层",5:"专题层",6:"安全层",7:"前置库"},process:[{id:"",title:"开始",stepId:"",success:!1}]}},methods:r(r({},Object(n.b)("fusionTask",["GET_DATA_BASE_LIST","GET_STEP_HEADERR"])),{},{getStepHeader:function(){var e=this;return new Promise((function(t){e.GET_STEP_HEADERR({taskId:e.$route.query.taskId}).then((function(s){if(s&&s.length>0){var a=s;a.forEach((function(t,s){if(0===s)t.success=!0,t.title="开始";else{var a=t.stepDetailList[0].targetDbCode;t.success=!0,t.title=e.storey.includes(a)?e.databaseList[1].options.find((function(e){return e.code===a})).label:e.databaseList[0].options.find((function(e){return e.code===a})).label}})),e.process=a}t(s)}))}))}}),created:function(){var e=this;this.isLoading=!0,this.databaseList[1].options=[],this.GET_DATA_BASE_LIST().then((function(){e.databaseConf.frontDBList.forEach((function(t,s){e.databaseList[0].options.push({label:t.name,value:s+1,type:t.type,code:t.code})})),e.databaseConf.modelDBList.forEach((function(t,s){e.databaseList[1].options.push({label:t.name,value:s+1,type:t.type,code:t.code})})),e.getStepHeader().then((function(t){e.$route.query.stepId&&e.process.find((function(t){return t.id==e.$route.query.stepId}))?e.backTo(e.process.find((function(t){return t.id==e.$route.query.stepId}))):t.length>0&&e.backTo(e.process[e.process.length-1])}))}))}};t.default=i}}]);