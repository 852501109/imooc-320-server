(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0c7eb1"],{5352:function(e,r,t){"use strict";t.r(r),t("8e6e"),t("ac6a"),t("456d");var a=t("ade3"),i=(t("c5f6"),t("2f62"));function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){Object(a.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var n={props:{dataSourceList:{type:Array,default:function(){return[]}},queryData:{type:Object,default:function(){}}},watch:{queryData:function(){this.$route.query.id&&(this.ruleForm={srcDbType:1,type:Number(this.$route.query.type),domainId:this.queryData.domainId,dimName:this.queryData.tabName,dimNameCn:this.queryData.dimNameCn,dimDesc:this.queryData.dimDesc},this.GET_DOMAIN_DB_SOURCE_LIST({domainId:this.queryData.domainId}))}},data:function(){return{ruleForm:{srcDbType:1,type:Number(this.$route.query.type),domainId:"",dimName:"",dimNameCn:"",dimDesc:""},rules:{domainId:[{required:!0,message:"请选择数据域",trigger:"change"}],srcDbType:[{required:!0,message:"请选择维度数据更新策略",trigger:"change"}],dimName:[{required:!0,validator:this.checkDimName,trigger:"change"}],dimNameCn:[{required:!0,message:"请输入维度名称",trigger:"blur"}]}}},computed:l({},Object(i.d)("develop",["domainDBSourceListChange"])),methods:l(l({},Object(i.b)("develop",["GET_DOMAIN_DB_SOURCE_LIST"])),{},{changeDomain:function(e){this.$store.commit("develop/DOMAIN_CHANGE",!this.domainDBSourceListChange),this.GET_DOMAIN_DB_SOURCE_LIST({domainId:e})},checkDimName:function(e,r,t){return r?/^[a-zA-Z].*$/.test(r)?void t():t(new Error("必须以英文开头")):t(new Error("维度英文名不可为空"))},submitForm:function(){var e=this;return new Promise((function(r,t){e.$refs.ruleForm1.validate((function(a){a?r(e.ruleForm):t("submit")}))}))},resetForm:function(){this.$refs.ruleForm1.resetFields()}})},u=t("2877"),m=Object(u.a)(n,(function(){var e=this,r=e._self._c;return r("div",[r("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"140px",disabled:"view"===e.$route.query.filter}},[r("el-form-item",{attrs:{label:"数据域",prop:"domainId"}},[r("el-select",{attrs:{placeholder:"请选择",disabled:"edit"===e.$route.query.filter},on:{change:e.changeDomain},model:{value:e.ruleForm.domainId,callback:function(r){e.$set(e.ruleForm,"domainId",r)},expression:"ruleForm.domainId"}},e._l(e.dataSourceList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.domainNameCn,value:e.id}})})),1)],1),1==e.$route.query.type?r("el-form-item",{attrs:{label:"维度数据更新策略",prop:"srcDbType"}},[r("el-radio-group",{attrs:{disabled:"edit"===e.$route.query.filter},model:{value:e.ruleForm.srcDbType,callback:function(r){e.$set(e.ruleForm,"srcDbType",r)},expression:"ruleForm.srcDbType"}},[r("el-radio",{attrs:{label:1}},[e._v("手动更新")]),r("el-radio",{attrs:{label:2}},[e._v("实时更新")])],1)],1):e._e(),r("el-form-item",{attrs:{label:"维度名称",prop:"dimNameCn",placeholder:"请输入"}},[r("el-input",{attrs:{disabled:"edit"===e.$route.query.filter},model:{value:e.ruleForm.dimNameCn,callback:function(r){e.$set(e.ruleForm,"dimNameCn",r)},expression:"ruleForm.dimNameCn"}})],1),r("el-form-item",{attrs:{label:"维度英文名",prop:"dimName",placeholder:"请输入"}},[r("el-input",{attrs:{disabled:"edit"===e.$route.query.filter},model:{value:e.ruleForm.dimName,callback:function(r){e.$set(e.ruleForm,"dimName",r)},expression:"ruleForm.dimName"}})],1),r("el-form-item",{attrs:{label:"维度描述",placeholder:"请输入"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.dimDesc,callback:function(r){e.$set(e.ruleForm,"dimDesc",r)},expression:"ruleForm.dimDesc"}})],1)],1)],1)}),[],!1,null,"0569a169",null);r.default=m.exports}}]);