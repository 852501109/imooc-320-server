(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d224d30"],{e27d:function(e,t,r){"use strict";r.r(t),r("8e6e"),r("ac6a"),r("456d"),r("28a5");var l=r("ade3"),a=r("2f62");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={data:function(){return{formTitle:"edit"===this.$route.query.optType?"编辑消息渠道":"view"===this.$route.query.optType?"查看消息渠道":"新增消息渠道",preview:"",ruleForm:{msgType:"",channelName:""},rules:{},isView:!1,newsList:[{label:"公告",value:"1"},{label:"消息",value:"2"},{label:"任务",value:"3"},{label:"告警",value:"4"},{label:"其他",value:"0"}],nameList:[{label:"系统",value:"系统"},{label:"邮件",value:"邮件"},{label:"短信",value:"短信"}]}},created:function(){this.$route.query.id&&this.loadData(),"view"===this.$route.query.optType&&(this.isView=!0)},methods:n(n({},Object(a.b)(["_AJAX"])),{},{loadData:function(){var e=this;this._AJAX({url:"news.sys.msg.channel.id",method:"GET",data:{id:this.$route.query.id}}).then((function(t){if(0==t.code){var r=t.result;r.msgType?r.msgType=r.msgType.split(","):r.msgType=[],e.ruleForm=r}}))},submitForm:function(){var e=this;this.$refs.ruleForm.validate((function(t){var r=e;if(!t)return!1;var l=Object.assign({},e.ruleForm);l.msgType=l.msgType.join(","),e.$store.commit("SHOW_LOADING",!0),e.$route.query.id?e._AJAX({url:"news.sys.channel.edit",method:"POST",data:l}).then((function(t){e.$AudaqueToast.tip({template:"修改成功",methods:{okEvent:function(){r.$router.go(-1)}}})})):e._AJAX({url:"news.sys.channel.new",method:"POST",data:l}).then((function(t){e.$AudaqueToast.tip({template:"新增成功",methods:{okEvent:function(){r.$router.go(-1)}}})}))}))}})},s=r("2877"),i=Object(s.a)(u,(function(){var e=this,t=e._self._c;return t("audaque-detail-form-page",{attrs:{title:e.formTitle,"opt-type":e.$route.query.optType},on:{"submit-click":e.submitForm}},[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"90px",disabled:e.isView}},[t("el-form-item",{attrs:{label:"渠道名称",prop:"channelName"}},[t("span",{staticStyle:{color:"#909399"}},[e._v(e._s(e.ruleForm.channelName))]),t("el-radio-group",{model:{value:e.ruleForm.channelName,callback:function(t){e.$set(e.ruleForm,"channelName",t)},expression:"ruleForm.channelName"}},e._l(e.nameList,(function(r){return t("el-radio",{key:r.label,attrs:{label:r.value}},[e._v(e._s(r.label)+"\n                ")])})),1)],1),t("el-form-item",{attrs:{label:"消息类型",prop:"msgType"}},[t("el-select",{attrs:{placeholder:"请选择",multiple:"",clearable:""},model:{value:e.ruleForm.msgType,callback:function(t){e.$set(e.ruleForm,"msgType",t)},expression:"ruleForm.msgType"}},e._l(e.newsList,(function(e){return t("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)}),[],!1,null,null,null);t.default=i.exports}}]);