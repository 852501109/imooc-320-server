(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7dfe58c0","chunk-80142d0e","chunk-710a1004","chunk-421cb202","chunk-2d0b9be1","chunk-2d2299e8","chunk-2d0cbd04"],{"0fc7":function(t,e,o){var n=o("b114");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,o("499e").default)("42f105c6",n,!0,{sourceMap:!1,shadowMode:!1})},"33f1":function(t,e,o){"use strict";o.r(e),o("8e6e"),o("ac6a"),o("456d");var n=o("ade3");function a(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var i={inheritAttrs:!1,props:["showFileName"],data:function(){return{formData:{fileName:void 0,type:"file"},rules:{fileName:[{required:!0,message:"请输入文件名",trigger:"blur"}],type:[{required:!0,message:"生成类型不能为空",trigger:"change"}]},typeOptions:[{label:"页面",value:"file"},{label:"弹窗",value:"dialog"}]}},computed:{},watch:{},mounted:function(){},methods:{onOpen:function(){this.showFileName&&(this.formData.fileName="".concat(+new Date,".vue"))},onClose:function(){},close:function(t){this.$emit("update:visible",!1)},handelConfirm:function(){var t=this;this.$refs.elForm.validate((function(e){e&&(t.$emit("confirm",function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},t.formData)),t.close())}))}}},c=o("2877"),r=Object(c.a)(i,(function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",t._g(t._b({attrs:{width:"500px","close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:t.onOpen,close:t.onClose}},"el-dialog",t.$attrs,!1),t.$listeners),[e("el-row",{attrs:{gutter:15}},[e("el-form",{ref:"elForm",attrs:{model:t.formData,rules:t.rules,size:"medium","label-width":"100px"}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"生成类型",prop:"type"}},[e("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},t._l(t.typeOptions,(function(o,n){return e("el-radio-button",{key:n,attrs:{label:o.value,disabled:o.disabled}},[t._v("\n                "+t._s(o.label)+"\n              ")])})),1)],1),t.showFileName?e("el-form-item",{attrs:{label:"文件名",prop:"fileName"}},[e("el-input",{attrs:{placeholder:"请输入文件名",clearable:""},model:{value:t.formData.fileName,callback:function(e){t.$set(t.formData,"fileName","string"==typeof e?e.trim():e)},expression:"formData.fileName"}})],1):t._e()],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.close}},[t._v("\n        取消\n      ")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handelConfirm}},[t._v("\n        确定\n      ")])],1)],1)],1)}),[],!1,null,"75463f5f",null);e.default=r.exports},"49c7":function(t,e,o){(t.exports=o("2350")(!1)).push([t.i,'.container{position:relative;width:100%;height:100%;background:#fff}.components-list{padding:15px;-webkit-box-sizing:border-box;box-sizing:border-box;height:100%}.components-list .components-item{display:inline-block;width:calc(50% - 5px);margin-right:10px;margin-bottom:10px;-webkit-transition:-webkit-transform 0ms!important;transition:-webkit-transform 0ms!important;transition:transform 0ms!important;transition:transform 0ms,-webkit-transform 0ms!important}.components-list .components-item:nth-child(2n){margin-right:0}.components-list .split{border-bottom:1px solid #e0e0e0;margin:0 -15px 25px -15px}.components-draggable{padding-bottom:15px}.components-title{font-size:14px;color:#222;margin:5px 2px 15px 2px}.components-title .svg-icon{color:#666;font-size:18px}.components-body{height:32px;line-height:32px;font-size:12px;cursor:move;border:1px solid #e0e0e0;border-radius:4px;background:#fff;color:#333;text-align:center}.components-body .svg-icon{color:#777;font-size:15px}.components-body:hover{border:1px dashed #1a8c68;background:#ecfaf6;color:#1a8c68}.components-body:hover .svg-icon{color:#787be8}.left-board{width:230px;position:absolute;left:0;top:0;height:100vh}.center-scrollbar,.left-scrollbar{height:calc(100vh - 42px);overflow:hidden;border-left:1px solid #f1e8e8}.center-scrollbar{border-right:1px solid #f1e8e8}.center-board,.center-scrollbar{-webkit-box-sizing:border-box;box-sizing:border-box}.center-board{height:100vh;width:auto;margin:0 300px 0 230px}.empty-info{position:absolute;top:46%;left:0;right:0;text-align:center;font-size:18px;color:#ccb1ea;letter-spacing:4px}.action-bar{position:relative;height:42px;line-height:42px;text-align:right;padding:0 15px;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #f1e8e8;border-top:none;border-left:none;background:#fff}.action-bar .delete-btn{color:#f56c6c}.logo-wrapper{position:relative;height:42px;background:#fff;border-bottom:1px solid #f1e8e8;border-left:1px solid #f1e8e8}.center-board-row,.logo-wrapper{-webkit-box-sizing:border-box;box-sizing:border-box}.center-board-row{padding:12px 12px 15px 12px}.center-board-row>.el-form{height:calc(100vh - 69px)}.center-board-row>.el-form .el-input__inner{border:1px solid #e0e0e0}.drawing-board{height:100%;position:relative}.drawing-board .widget-view .el-form-item{min-height:70px}.drawing-board .widget-view .el-tree__empty-block{min-height:38px}.drawing-board .widget-view .el-textarea{height:auto}.drawing-board .components-body{padding:0;margin:0;font-size:0}.drawing-board .sortable-ghost{position:relative;display:block;overflow:hidden}.drawing-board .sortable-ghost:before{content:" ";position:absolute;left:0;right:0;top:0;height:3px;background:#5959df;z-index:2}.drawing-board .components-item.sortable-ghost{width:100%;height:60px}.drawing-board .active-from-item>.el-form-item{border:1px dashed #ff4600;background-color:#fff5f1}.drawing-board .active-from-item>.drawing-item-copy,.drawing-board .active-from-item>.drawing-item-delete{display:initial}.drawing-board .active-from-item>.component-name{color:#409eff}.drawing-board .el-form-item{margin-bottom:15px;border:1px solid transparent}.drawing-board .widget-view{position:relative}.drawing-board .widget-view:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:1001;display:none}.drawing-board .widget-view .drawing-item-copy,.drawing-board .widget-view .drawing-item-delete{z-index:1002}.drawing-item{position:relative;cursor:move}.drawing-item.unfocus-bordered:not(.active-from-item)>div:first-child{border:1px dashed #ccc}.drawing-item .el-form-item{padding:12px 10px}.drawing-row-item{position:relative;cursor:move;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px dashed #ccc;border-radius:3px;padding:0 2px;margin-bottom:15px}.drawing-row-item .drawing-row-item{margin-bottom:2px}.drawing-row-item .el-col{margin-top:22px}.drawing-row-item .el-form-item{margin-bottom:0}.drawing-row-item .drag-wrapper{min-height:80px}.drawing-row-item.active-from-item{border:1px dashed #409eff}.drawing-row-item .component-name{position:absolute;top:0;left:0;font-size:12px;color:#bbb;display:inline-block;padding:0 6px}.drawing-item:hover>.el-form-item,.drawing-row-item:hover>.el-form-item{border:1px dashed #ff4600;background-color:#fff5f1}.drawing-item:hover>.drawing-item-copy,.drawing-item:hover>.drawing-item-delete,.drawing-row-item:hover>.drawing-item-copy,.drawing-row-item:hover>.drawing-item-delete{display:initial}.drawing-item>.drawing-item-copy,.drawing-item>.drawing-item-delete,.drawing-row-item>.drawing-item-copy,.drawing-row-item>.drawing-item-delete{display:none;position:absolute;top:-10px;width:22px;height:22px;line-height:22px;text-align:center;border-radius:50%;font-size:12px;border:1px solid;cursor:pointer;z-index:1}.drawing-item>.drawing-item-copy,.drawing-row-item>.drawing-item-copy{right:56px;border-color:#409eff;color:#409eff;background:#fff}.drawing-item>.drawing-item-copy:hover,.drawing-row-item>.drawing-item-copy:hover{background:#409eff;color:#fff}.drawing-item>.drawing-item-delete,.drawing-row-item>.drawing-item-delete{right:24px;border-color:#f56c6c;color:#f56c6c;background:#fff}.drawing-item>.drawing-item-delete:hover,.drawing-row-item>.drawing-item-delete:hover{background:#f56c6c;color:#fff}.el-date-editor .el-range-separator{width:30px}.parse-form-item .el-tree{max-height:300px;overflow:auto;border:1px solid #e0e0e0}',""])},"4aef":function(t,e,o){"use strict";o.r(e),e.default={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change",tinymce:"blur"}},"52dc":function(t,e,o){"use strict";o("0fc7")},"562f":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"makeUpJs",(function(){return makeUpJs}));var core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("3022"),util__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_2__),_utils_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("0042"),_ruleTrigger__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4aef"),units={KB:"1024",MB:"1024 / 1024",GB:"1024 / 1024 / 1024"},confGlobal,inheritAttrs={file:"",dialog:"inheritAttrs: false,"};function makeUpJs(t,e){confGlobal=t=Object(_utils_index__WEBPACK_IMPORTED_MODULE_3__.deepClone)(t);var o=[],n=[],a=[],i=[],c=mixinMethod(e),r=[],l=[];t.fields.forEach((function(t){buildAttributes(t,o,n,a,c,i,r,l)}));var s=buildexport(t,e,o.join("\n"),n.join("\n"),a.join("\n"),r.join("\n"),i.join("\n"),c.join("\n"),l.join("\n"));return confGlobal=null,s}function buildAttributes(t,e,o,n,a,i,c,r){var l=t.__config__,s=t.__slot__;if(buildData(t,e),buildRules(t,o),(t.options||s&&s.options&&s.options.length)&&(buildOptions(t,n),"dynamic"===l.dataType)){var d="".concat(t.__vModel__,"Options"),f=Object(_utils_index__WEBPACK_IMPORTED_MODULE_3__.titleCase)(d),p="get".concat(f);buildOptionMethod(p,d,a,t),callInCreated(p,r)}t.props&&t.props.props&&buildProps(t,i),t.action&&"el-upload"===l.tag&&(c.push("".concat(t.__vModel__,"Action: '").concat(t.action,"',\n      ").concat(t.__vModel__,"fileList: [],")),a.push(buildBeforeUpload(t)),t["auto-upload"]||a.push(buildSubmitUpload(t))),l.children&&l.children.forEach((function(t){buildAttributes(t,e,o,n,a,i,c,r)}))}function callInCreated(t,e){e.push("this.".concat(t,"()"))}function mixinMethod(t){var e=[],o={file:confGlobal.formBtns?{submitForm:"submitForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          // TODO 提交表单\n        })\n      },"),resetForm:"resetForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },")}:null,dialog:{onOpen:"onOpen() {},",onClose:"onClose() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },"),close:"close() {\n        this.$emit('update:visible', false)\n      },",handelConfirm:"handelConfirm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          this.close()\n        })\n      },")}}[t];return o&&Object.keys(o).forEach((function(t){e.push(o[t])})),e}function buildData(t,e){var o=t.__config__;if(void 0!==t.__vModel__){var n=JSON.stringify(o.defaultValue);e.push("".concat(t.__vModel__,": ").concat(n,","))}}function buildRules(scheme,ruleList){var config=scheme.__config__;if(void 0!==scheme.__vModel__){var rules=[];if(_ruleTrigger__WEBPACK_IMPORTED_MODULE_4__.default[config.tag]){if(config.required){var type=Object(util__WEBPACK_IMPORTED_MODULE_2__.isArray)(config.defaultValue)?"type: 'array',":"",message=Object(util__WEBPACK_IMPORTED_MODULE_2__.isArray)(config.defaultValue)?"请至少选择一个".concat(config.label):scheme.placeholder;void 0===message&&(message="".concat(config.label,"不能为空")),rules.push("{ required: true, ".concat(type," message: '").concat(message,"', trigger: '").concat(_ruleTrigger__WEBPACK_IMPORTED_MODULE_4__.default[config.tag],"' }"))}config.regList&&Object(util__WEBPACK_IMPORTED_MODULE_2__.isArray)(config.regList)&&config.regList.forEach((function(item){item.pattern&&rules.push("{ pattern: ".concat(eval(item.pattern),", message: '").concat(item.message,"', trigger: '").concat(_ruleTrigger__WEBPACK_IMPORTED_MODULE_4__.default[config.tag],"' }"))})),ruleList.push("".concat(scheme.__vModel__,": [").concat(rules.join(","),"],"))}}}function buildOptions(t,e){if(void 0!==t.__vModel__){var o=t.options;o||(o=t.__slot__.options),"dynamic"===t.__config__.dataType&&(o=[]);var n="".concat(t.__vModel__,"Options: ").concat(JSON.stringify(o),",");e.push(n)}}function buildProps(t,e){var o="".concat(t.__vModel__,"Props: ").concat(JSON.stringify(t.props.props),",");e.push(o)}function buildBeforeUpload(t){var e=t.__config__,o=units[e.sizeUnit],n="",a="",i=[];e.fileSize&&(n="let isRightSize = file.size / ".concat(o," < ").concat(e.fileSize,"\n    if(!isRightSize){\n      this.$message.error('文件大小超过 ").concat(e.fileSize).concat(e.sizeUnit,"')\n    }"),i.push("isRightSize")),t.accept&&(a="let isAccept = new RegExp('".concat(t.accept,"').test(file.type)\n    if(!isAccept){\n      this.$message.error('应该选择").concat(t.accept,"类型的文件')\n    }"),i.push("isAccept"));var c="".concat(t.__vModel__,"BeforeUpload(file) {\n    ").concat(n,"\n    ").concat(a,"\n    return ").concat(i.join("&&"),"\n  },");return i.length?c:""}function buildSubmitUpload(t){return"submitUpload() {\n    this.$refs['".concat(t.__vModel__,"'].submit()\n  },")}function buildOptionMethod(t,e,o,n){var a={};sessionStorage.getItem("token")?a["X-CSRF-TOKEN"]=sessionStorage.getItem("token"):a={};var i=n.__config__,c="".concat(t,"() {\n    // 注意：this.$axios是通过Vue.prototype.$axios = axios挂载产生的\n    this.$axios({\n      headers\n      method: '").concat(i.method,"',\n      url: '").concat(i.url,"'\n    }).then(resp => {\n      var { data } = resp\n      this.").concat(e," = data.").concat(i.dataPath,"\n    })\n  },");o.push(c)}function buildexport(t,e,o,n,a,i,c,r,l){return"".concat(_utils_index__WEBPACK_IMPORTED_MODULE_3__.exportDefault,"{\n  ").concat(inheritAttrs[e],"\n  components: {},\n  props: [],\n  data () {\n    return {\n      ").concat(t.formModel,": {\n        ").concat(o,"\n      },\n      ").concat(t.formRules,": {\n        ").concat(n,"\n      },\n      ").concat(i,"\n      ").concat(a,"\n      ").concat(c,"\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {\n    ").concat(l,"\n  },\n  mounted () {},\n  methods: {\n    ").concat(r,"\n  }\n}")}},"6a79":function(t,e,o){"use strict";o.r(e),o("8e6e"),o("456d");var n,a=o("53ca"),i=(o("6762"),o("7f7f"),o("7514"),o("20d6"),o("6b54"),o("28a5"),o("ade3")),c=(o("ac6a"),o("2f62")),r=o("365c"),l=o("b76a"),s=o.n(l),d=o("21a6"),f=o("b311"),p=o.n(f),u=o("def5"),_=o("2705"),m=o("7de1"),b=o("0042"),h=o("c716"),g=o("1971"),v=o("562f"),w=o("dde7"),y=o("33f1"),x=o("7b63");function O(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function D(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?O(Object(o),!0).forEach((function(e){Object(i.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var C=o("e552"),k={components:{draggable:s.a,JsonDrawer:u.default,RightPanel:_.default,CodeTypeDialog:y.default,DraggableItem:x.default},data:function(){return{idGlobal:Date.now(),formConf:m.formConf,inputComponents:m.inputComponents,selectComponents:m.selectComponents,layoutComponents:m.layoutComponents,customizeComponents:m.customizeComponents,labelWidth:100,drawingList:[],drawingData:{},activeId:Date.now(),drawerVisible:!1,formData:{},dialogVisible:!1,jsonDrawerVisible:!1,generateConf:null,showFileName:!1,activeData:{},leftComponents:[{title:"输入型组件",list:m.inputComponents},{title:"选择型组件",list:m.selectComponents},{title:"布局型组件",list:m.layoutComponents},{title:"自定义组件",list:m.customizeComponents}],isVisibleDialog:!1,formId:this.$route.query.formId,tableName:this.$route.query.tableName,formCode:this.$route.query.formCode,fieldList:[],fieldListS:[],fieldNameIsEmptyNum:0}},watch:{drawingList:{handler:function(t){var e=this;this.fieldListS=[],t&&t.length>0&&(t.forEach((function(t){t.__vModel__&&e.fieldListS.push(t.__vModel__),t.__vModel_1__&&e.fieldListS.push(t.__vModel_1__)})),this.fieldList.forEach((function(t){-1!=e.fieldListS.indexOf(t.columnName)?t.disabled=!0:t.disabled=!1})))},deep:!0}},created:function(){var t=this;this.tableName&&this._AJAX({url:"form.design.select.table",method:"GET",data:{tableName:this.tableName}}).then((function(e){t.fieldList=e.result}))},mounted:function(){var t=this;if(this.formId){var e=r.default["form.design.select"]+"/"+this.formId;this._AJAX({url:e,method:"GET",data:{}}).then((function(e){var o=JSON.parse(e.result.formJson);t.drawingList=o.fields,t.formConf=o,t.activeFormItem(t.drawingList[0])}))}new p.a("#copyNode",{text:function(){var e=t.generateCode();return t.$notify({title:"成功",message:"代码已复制到剪切板，可粘贴。",type:"success"}),e}}).on("error",(function(e){t.$message.error("代码复制失败")}))},methods:D(D({},Object(c.b)(["_AJAX"])),{},{setObjectValueByStringKeys:function(t,e,o){var n=e.split(".");n.reduce((function(t,e,a){return n.length===a+1?t[e]=o:"[Object Object]"!==Object.prototype.toString.call(t[e])&&(t[e]={}),t[e]}),t)},setRespData:function(t,e){var o=t.__config__,n=o.dataPath,a=o.renderKey,i=o.dataConsumer;if(n&&i){var c=n.split(".").reduce((function(t,e){return t[e]}),e);"Object"===Object.prototype.toString.call(c).slice(8,-1)&&(c=[c]),this.setObjectValueByStringKeys(t,i,c);var r=this.drawingList.findIndex((function(t){return t.__config__.renderKey===a}));r>-1&&this.$set(this.drawingList,r,t)}},fetchData:function(t){var e=t.__config__,o=e.dataType,n=e.method,a=e.url,i=this;"dynamic"===o&&n&&a&&(this.setLoading(t,!0),"table-component"===t.__config__.tag?g.loadTableData.call(this,t):Object(g.fetchDynamicData)({method:n,url:a}).then((function(e){i.setLoading(t,!1),i.setRespData(t,e)})))},setLoading:function(t,e){var o=t.directives;if(Array.isArray(o)){var n=o.find((function(t){return"loading"===t.name}));n&&(n.value=e)}},activeFormItem:function(t){this.activeData=t,this.activeId=t.__config__.formId},onEnd:function(t){t.from!==t.to&&(this.fetchData(n),this.activeData=n,this.activeId=this.idGlobal)},addComponent:function(t){var e=this.cloneComponent(t);this.fetchData(e),this.drawingList.push(e),this.activeFormItem(e)},cloneComponent:function(t){var e=Object(b.deepClone)(t),o=e.__config__;return o.span=this.formConf.span,this.createIdAndKey(e),void 0!==e.placeholder&&(e.placeholder+=o.label),n=e},createIdAndKey:function(t){var e=this,o=t.__config__;return o.formId=++this.idGlobal,o.renderKey="".concat(o.formId).concat(+new Date),"colFormItem"===o.layout?t.__vModel__=null:"rowFormItem"===o.layout&&(o.componentName="row".concat(this.idGlobal),!Array.isArray(o.children)&&(o.children=[]),delete o.label),Array.isArray(o.children)&&(o.children=o.children.map((function(t){return e.createIdAndKey(t)}))),t},AssembleFormData:function(){this.formData=D({fields:Object(b.deepClone)(this.drawingList)},this.formConf)},generate:function(t){var e=this["exec".concat(Object(b.titleCase)(this.operationType))];this.generateConf=t,e&&e(t)},execRun:function(t){this.AssembleFormData(),this.drawerVisible=!0},execDownload:function(t){var e=this.generateCode(),o=new Blob([e],{type:"text/plain;charset=utf-8"});Object(d.saveAs)(o,t.fileName)},execCopy:function(t){document.getElementById("copyNode").click()},empty:function(){var t=this;this.$AudaqueToast.warn({template:"确定要清空所有组件?",methods:{okEvent:function(){t.drawingList=[],t.$delete(t.formConf,"fields")}}})},drawingItemCopy:function(t,e){var o=Object(b.deepClone)(t);o=this.createIdAndKey(o),e.push(o),this.activeFormItem(o)},drawingItemDelete:function(t,e){var o=this;e.splice(t,1),this.$nextTick((function(){var t=o.drawingList.length;t&&o.activeFormItem(o.drawingList[t-1])}))},generateCode:function(){var t=this.generateConf.type;this.AssembleFormData();var e=Object(h.vueScript)(Object(v.makeUpJs)(this.formData,t)),o=Object(h.vueTemplate)(Object(h.makeUpHtml)(this.formData,t)),n=Object(h.cssStyle)(Object(w.makeUpCss)(this.formData));return C.html(o+e+n,b.beautifierConf.html)},showJson:function(){this.AssembleFormData(),this.jsonDrawerVisible=!0},download:function(){this.dialogVisible=!0,this.showFileName=!0,this.operationType="download"},view:function(){this.AssembleFormData(),this.isVisibleDialog=!0},run:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="run"},copy:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="copy"},checkFieldNameIsEmpty:function(t){for(var e=0;e<t.length;e++){var o=t[e];if(o.__config__.children)this.checkFieldNameIsEmpty(o.__config__.children);else if(!["row","el-button"].includes(o.__config__.tag)){if(!o.hasOwnProperty("__vModel__")||null===o.__vModel__||""===o.__vModel__)return++this.fieldNameIsEmptyNum,void this.$AudaqueToast.error({template:"".concat(o.__config__.label," 字段名不能为空"),methods:{okEvent:function(){}}});if(o.__config__.isRange&&(!o.hasOwnProperty("__vModel_1__")||null===o.__vModel_1__||""===o.__vModel_1__))return++this.fieldNameIsEmptyNum,void this.$AudaqueToast.error({template:"".concat(o.__config__.label," 字段名不能为空"),methods:{okEvent:function(){}}})}}},save:function(){var t=this;this.fieldNameIsEmptyNum=0,this.AssembleFormData();var e=JSON.parse(JSON.stringify(this.formData.fields));Object(g.delDynamicData)(e);var o=Object.assign({},this.formData);o.fields=e,o.formCode=this.formCode,this.checkFieldNameIsEmpty(o.fields),this.fieldNameIsEmptyNum>0||(this.$store.commit("SHOW_LOADING",!0),this._AJAX({url:"form.design.update",method:"POST",data:{formJson:JSON.stringify(o),id:this.formId}}).then((function(e){t.$AudaqueToast.tip({template:"保存成功",methods:{okEvent:function(){}}})})))},tagChange:function(t){var e=this,o=(t=this.cloneComponent(t)).__config__;t.__vModel__=this.activeData.__vModel__,o.formId=this.activeId,o.span=this.activeData.__config__.span,this.activeData.__config__.tag=o.tag,this.activeData.__config__.tagIcon=o.tagIcon,this.activeData.__config__.document=o.document,Object(a.a)(this.activeData.__config__.defaultValue)===Object(a.a)(o.defaultValue)&&(o.defaultValue=this.activeData.__config__.defaultValue),Object.keys(t).forEach((function(o){void 0!==e.activeData[o]&&(t[o]=e.activeData[o])})),this.activeData=t,this.updateDrawingList(t,this.drawingList)},updateDrawingList:function(t,e){var o=this,n=e.findIndex((function(t){return t.__config__.formId===o.activeId}));n>-1?e.splice(n,1,t):e.forEach((function(e){Array.isArray(e.__config__.children)&&o.updateDrawingList(t,e.__config__.children)}))},refreshJson:function(t){this.drawingList=Object(b.deepClone)(t.fields),delete t.fields,this.formConf=t}})},j=(o("eb534"),o("2877")),E=Object(j.a)(k,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"left-board"},[e("div",{staticClass:"logo-wrapper"}),e("el-scrollbar",{staticClass:"left-scrollbar"},[e("div",{staticClass:"components-list"},t._l(t.leftComponents,(function(o,n){return e("div",{key:n},[e("div",{staticClass:"components-title"},[t._v(t._s(o.title))]),e("draggable",{staticClass:"components-draggable",attrs:{list:o.list,group:{name:"componentsGroup",pull:"clone",put:!1},clone:t.cloneComponent,draggable:".components-item",sort:!1},on:{end:t.onEnd}},t._l(o.list,(function(o,n){return e("div",{key:n,staticClass:"components-item",on:{click:function(e){return t.addComponent(o)}}},[e("div",{staticClass:"components-body"},[t._v(t._s(o.__config__.label))])])})),0),n<3?e("div",{staticClass:"split"}):t._e()],1)})),0)])],1),e("div",{staticClass:"center-board"},[e("div",{staticClass:"action-bar"},[e("el-button",{attrs:{icon:"el-icon-view",type:"text"},on:{click:t.view}},[t._v(" 预览")]),e("el-button",{attrs:{icon:"el-icon-view",type:"text"},on:{click:t.showJson}},[t._v(" 查看json")]),t.permitList.formUpdate?e("el-button",{staticClass:"copy-btn-main",attrs:{icon:"el-icon-document-copy",type:"text"},on:{click:t.save}},[t._v("\n                保存\n            ")]):t._e(),e("el-button",{staticClass:"delete-btn",attrs:{icon:"el-icon-delete",type:"text"},on:{click:t.empty}},[t._v(" 清空")]),e("el-button",{staticClass:"delete-btn",attrs:{icon:"el-icon-close",type:"text"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("\n                关闭\n            ")])],1),e("el-scrollbar",{staticClass:"center-scrollbar"},[e("el-row",{staticClass:"center-board-row",attrs:{gutter:t.formConf.gutter}},[e("el-form",{staticClass:"parse-form-item",attrs:{size:t.formConf.size,"label-position":t.formConf.labelPosition,disabled:t.formConf.disabled,"label-width":t.formConf.labelWidth+"px"}},[e("draggable",{staticClass:"drawing-board",attrs:{list:t.drawingList,animation:340,group:"componentsGroup"}},t._l(t.drawingList,(function(o,n){return e("draggable-item",{key:o.renderKey,attrs:{"drawing-list":t.drawingList,"current-item":o,index:n,"active-id":t.activeId,"form-conf":t.formConf},on:{activeItem:t.activeFormItem,copyItem:t.drawingItemCopy,deleteItem:t.drawingItemDelete}})})),1),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.drawingList.length,expression:"!drawingList.length"}],staticClass:"empty-info"},[t._v("从左侧拖入或点选组件进行表单设计")])],1)],1)],1)],1),e("right-panel",{attrs:{"active-data":t.activeData,"form-conf":t.formConf,"show-field":!!t.drawingList.length,fieldList:t.fieldList,formCode:t.formCode},on:{"tag-change":t.tagChange,"fetch-data":t.fetchData}}),e("json-drawer",{attrs:{size:"60%",visible:t.jsonDrawerVisible,"json-str":JSON.stringify(t.formData)},on:{"update:visible":function(e){t.jsonDrawerVisible=e},refresh:t.refreshJson}}),e("code-type-dialog",{attrs:{visible:t.dialogVisible,title:"选择生成类型","show-file-name":t.showFileName},on:{"update:visible":function(e){t.dialogVisible=e},confirm:t.generate}}),e("input",{attrs:{id:"copyNode",type:"hidden"}}),e("el-dialog",{staticClass:"form-parser-dialog",attrs:{title:"预览",visible:t.isVisibleDialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.isVisibleDialog=e}}},[t.isVisibleDialog?e("form-parser",{ref:"formParser",attrs:{formConf:t.formData}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=E.exports},"9c4d":function(t,e,o){var n=o("49c7");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,o("499e").default)("337ac2ba",n,!0,{sourceMap:!1,shadowMode:!1})},b114:function(t,e,o){(t.exports=o("2350")(!1)).push([t.i,"[data-v-55261907] .el-drawer__header{display:none}.action-bar[data-v-55261907]{height:33px;background:#f2fafb;padding:0 15px;-webkit-box-sizing:border-box;box-sizing:border-box}.action-bar .bar-btn[data-v-55261907]{display:inline-block;padding:0 6px;line-height:32px;color:#8285f5;cursor:pointer;font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.action-bar .bar-btn i[data-v-55261907]{font-size:20px}.action-bar .bar-btn[data-v-55261907]:hover{color:#4348d4}.action-bar .bar-btn+.bar-btn[data-v-55261907]{margin-left:8px}.action-bar .delete-btn[data-v-55261907]{color:#f56c6c}.action-bar .delete-btn[data-v-55261907]:hover{color:#ea0b30}.json-editor[data-v-55261907]{height:calc(100vh - 33px)}",""])},c716:function(t,e,o){"use strict";o.r(e),o.d(e,"dialogWrapper",(function(){return c})),o.d(e,"vueTemplate",(function(){return r})),o.d(e,"vueScript",(function(){return l})),o.d(e,"cssStyle",(function(){return s})),o.d(e,"makeUpHtml",(function(){return m})),o("ac6a"),o("7f7f");var n,a,i=o("4aef");function c(t){return'<el-dialog v-bind="$attrs" v-on="$listeners" @open="onOpen" @close="onClose" title="Dialog Titile">\n    '.concat(t,'\n    <div slot="footer">\n      <el-button @click="close">取消</el-button>\n      <el-button type="primary" @click="handelConfirm">确定</el-button>\n    </div>\n  </el-dialog>')}function r(t){return"<template>\n    <div>\n      ".concat(t,"\n    </div>\n  </template>")}function l(t){return"<script>\n    ".concat(t,"\n  <\/script>")}function s(t){return"<style>\n    ".concat(t,"\n  </style>")}function d(t,e,o){var n="";"right"!==t.labelPosition&&(n='label-position="'.concat(t.labelPosition,'"'));var i=t.disabled?':disabled="'.concat(t.disabled,'"'):"",c='<el-form ref="'.concat(t.formRef,'" :model="').concat(t.formModel,'" :rules="').concat(t.formRules,'" size="').concat(t.size,'" ').concat(i,' label-width="').concat(t.labelWidth,'px" ').concat(n,">\n      ").concat(e,"\n      ").concat(function(t,e){var o="";return t.formBtns&&"file"===e&&(o='<el-form-item size="large">\n          <el-button type="primary" @click="submitForm">提交</el-button>\n          <el-button @click="resetForm">重置</el-button>\n        </el-form-item>',a&&(o='<el-col :span="24">\n          '.concat(o,"\n        </el-col>"))),o}(t,o),"\n    </el-form>");return a&&(c='<el-row :gutter="'.concat(t.gutter,'">\n        ').concat(c,"\n      </el-row>")),c}function f(t,e){return a||24!==t.__config__.span?'<el-col :span="'.concat(t.__config__.span,'">\n      ').concat(e,"\n    </el-col>"):e}var p={colFormItem:function(t){var e=t.__config__,o="",a='label="'.concat(e.label,'"');e.labelWidth&&e.labelWidth!==n.labelWidth&&(o='label-width="'.concat(e.labelWidth,'px"')),!1===e.showLabel&&(o='label-width="0"',a="");var c=!i.default[e.tag]&&e.required?"required":"",r=u[e.tag]?u[e.tag](t):null,l="<el-form-item ".concat(o," ").concat(a,' prop="').concat(t.__vModel__,'" ').concat(c,">\n        ").concat(r,"\n      </el-form-item>");return f(t,l)},rowFormItem:function(t){var e=t.__config__,o="default"===t.type?"":'type="'.concat(t.type,'"'),n="default"===t.type?"":'justify="'.concat(t.justify,'"'),a="default"===t.type?"":'align="'.concat(t.align,'"'),i=t.gutter?':gutter="'.concat(t.gutter,'"'):"",c=e.children.map((function(t){return p[t.__config__.layout](t)})),r="<el-row ".concat(o," ").concat(n," ").concat(a," ").concat(i,">\n      ").concat(c.join("\n"),"\n    </el-row>");return f(t,r)}},u={"el-button":function(t){var e=_(t),o=e.tag,n=e.disabled,a=t.type?'type="'.concat(t.type,'"'):"",i=t.icon?'icon="'.concat(t.icon,'"'):"",c=t.round?"round":"",r=t.size?'size="'.concat(t.size,'"'):"",l=t.plain?"plain":"",s=t.circle?"circle":"",d=function(t){var e=[],o=t.__slot__||{};return o.default&&e.push(o.default),e.join("\n")}(t);return d&&(d="\n".concat(d,"\n")),"<".concat(o," ").concat(a," ").concat(i," ").concat(c," ").concat(r," ").concat(l," ").concat(n," ").concat(s,">").concat(d,"</").concat(o,">")},"el-input":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i=e.clearable,c=e.placeholder,r=e.width,l=t.maxlength?':maxlength="'.concat(t.maxlength,'"'):"",s=t["show-word-limit"]?"show-word-limit":"",d=t.readonly?"readonly":"",f=t["prefix-icon"]?"prefix-icon='".concat(t["prefix-icon"],"'"):"",p=t["suffix-icon"]?"suffix-icon='".concat(t["suffix-icon"],"'"):"",u=t["show-password"]?"show-password":"",m=t.type?'type="'.concat(t.type,'"'):"",b=t.autosize&&t.autosize.minRows?':autosize="{minRows: '.concat(t.autosize.minRows,", maxRows: ").concat(t.autosize.maxRows,'}"'):"",h=function(t){var e=[],o=t.__slot__;return o&&o.prepend&&e.push('<template slot="prepend">'.concat(o.prepend,"</template>")),o&&o.append&&e.push('<template slot="append">'.concat(o.append,"</template>")),e.join("\n")}(t);return h&&(h="\n".concat(h,"\n")),"<".concat(o," ").concat(a," ").concat(m," ").concat(c," ").concat(l," ").concat(s," ").concat(d," ").concat(n," ").concat(i," ").concat(f," ").concat(p," ").concat(u," ").concat(b," ").concat(r,">").concat(h,"</").concat(o,">")},"el-input-number":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i=e.placeholder,c=t["controls-position"]?"controls-position=".concat(t["controls-position"]):"",r=t.min?":min='".concat(t.min,"'"):"",l=t.max?":max='".concat(t.max,"'"):"",s=t.step?":step='".concat(t.step,"'"):"",d=t["step-strictly"]?"step-strictly":"",f=t.precision?":precision='".concat(t.precision,"'"):"";return"<".concat(o," ").concat(a," ").concat(i," ").concat(s," ").concat(d," ").concat(f," ").concat(c," ").concat(r," ").concat(l," ").concat(n,"></").concat(o,">")},"el-select":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i=e.clearable,c=e.placeholder,r=e.width,l=t.filterable?"filterable":"",s=t.multiple?"multiple":"",d=function(t){var e=[],o=t.__slot__;return o&&o.options&&o.options.length&&e.push('<el-option v-for="(item, index) in '.concat(t.__vModel__,'Options" :key="index" :label="item.label" :value="item.value" :disabled="item.disabled"></el-option>')),e.join("\n")}(t);return d&&(d="\n".concat(d,"\n")),"<".concat(o," ").concat(a," ").concat(c," ").concat(n," ").concat(s," ").concat(l," ").concat(i," ").concat(r,">").concat(d,"</").concat(o,">")},"el-radio-group":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i='size="'.concat(t.size,'"'),c=function(t){var e=[],o=t.__slot__,n=t.__config__;if(o&&o.options&&o.options.length){var a="button"===n.optionType?"el-radio-button":"el-radio",i=n.border?"border":"";e.push("<".concat(a,' v-for="(item, index) in ').concat(t.__vModel__,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(i,">{{item.label}}</").concat(a,">"))}return e.join("\n")}(t);return c&&(c="\n".concat(c,"\n")),"<".concat(o," ").concat(a," ").concat(i," ").concat(n,">").concat(c,"</").concat(o,">")},"el-checkbox-group":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i='size="'.concat(t.size,'"'),c=t.min?':min="'.concat(t.min,'"'):"",r=t.max?':max="'.concat(t.max,'"'):"",l=function(t){var e=[],o=t.__slot__,n=t.__config__;if(o&&o.options&&o.options.length){var a="button"===n.optionType?"el-checkbox-button":"el-checkbox",i=n.border?"border":"";e.push("<".concat(a,' v-for="(item, index) in ').concat(t.__vModel__,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(i,">{{item.label}}</").concat(a,">"))}return e.join("\n")}(t);return l&&(l="\n".concat(l,"\n")),"<".concat(o," ").concat(a," ").concat(c," ").concat(r," ").concat(i," ").concat(n,">").concat(l,"</").concat(o,">")},"el-switch":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i=t["active-text"]?'active-text="'.concat(t["active-text"],'"'):"",c=t["inactive-text"]?'inactive-text="'.concat(t["inactive-text"],'"'):"",r=t["active-color"]?'active-color="'.concat(t["active-color"],'"'):"",l=t["inactive-color"]?'inactive-color="'.concat(t["inactive-color"],'"'):"",s=!0!==t["active-value"]?":active-value='".concat(JSON.stringify(t["active-value"]),"'"):"",d=!1!==t["inactive-value"]?":inactive-value='".concat(JSON.stringify(t["inactive-value"]),"'"):"";return"<".concat(o," ").concat(a," ").concat(i," ").concat(c," ").concat(r," ").concat(l," ").concat(s," ").concat(d," ").concat(n,"></").concat(o,">")},"el-cascader":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i=e.clearable,c=e.placeholder,r=e.width,l=t.options?':options="'.concat(t.__vModel__,'Options"'):"",s=t.props?':props="'.concat(t.__vModel__,'Props"'):"",d=t["show-all-levels"]?"":':show-all-levels="false"',f=t.filterable?"filterable":"",p="/"===t.separator?"":'separator="'.concat(t.separator,'"');return"<".concat(o," ").concat(a," ").concat(l," ").concat(s," ").concat(r," ").concat(d," ").concat(c," ").concat(p," ").concat(f," ").concat(i," ").concat(n,"></").concat(o,">")},"el-slider":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i=t.min?":min='".concat(t.min,"'"):"",c=t.max?":max='".concat(t.max,"'"):"",r=t.step?":step='".concat(t.step,"'"):"",l=t.range?"range":"",s=t["show-stops"]?':show-stops="'.concat(t["show-stops"],'"'):"";return"<".concat(o," ").concat(i," ").concat(c," ").concat(r," ").concat(a," ").concat(l," ").concat(s," ").concat(n,"></").concat(o,">")},"el-time-picker":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i=e.clearable,c=e.placeholder,r=e.width,l=t["start-placeholder"]?'start-placeholder="'.concat(t["start-placeholder"],'"'):"",s=t["end-placeholder"]?'end-placeholder="'.concat(t["end-placeholder"],'"'):"",d=t["range-separator"]?'range-separator="'.concat(t["range-separator"],'"'):"",f=t["is-range"]?"is-range":"",p=t.format?'format="'.concat(t.format,'"'):"",u=t["value-format"]?'value-format="'.concat(t["value-format"],'"'):"",m=t["picker-options"]?":picker-options='".concat(JSON.stringify(t["picker-options"]),"'"):"";return"<".concat(o," ").concat(a," ").concat(f," ").concat(p," ").concat(u," ").concat(m," ").concat(r," ").concat(c," ").concat(l," ").concat(s," ").concat(d," ").concat(i," ").concat(n,"></").concat(o,">")},"el-date-picker":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i=e.clearable,c=e.placeholder,r=e.width,l=t["start-placeholder"]?'start-placeholder="'.concat(t["start-placeholder"],'"'):"",s=t["end-placeholder"]?'end-placeholder="'.concat(t["end-placeholder"],'"'):"",d=t["range-separator"]?'range-separator="'.concat(t["range-separator"],'"'):"",f=t.format?'format="'.concat(t.format,'"'):"",p=t["value-format"]?'value-format="'.concat(t["value-format"],'"'):"",u="date"===t.type?"":'type="'.concat(t.type,'"'),m=t.readonly?"readonly":"";return"<".concat(o," ").concat(u," ").concat(a," ").concat(f," ").concat(p," ").concat(r," ").concat(c," ").concat(l," ").concat(s," ").concat(d," ").concat(i," ").concat(m," ").concat(n,"></").concat(o,">")},"el-rate":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i=t.max?":max='".concat(t.max,"'"):"",c=t["allow-half"]?"allow-half":"",r=t["show-text"]?"show-text":"",l=t["show-score"]?"show-score":"";return"<".concat(o," ").concat(a," ").concat(i," ").concat(c," ").concat(r," ").concat(l," ").concat(n,"></").concat(o,">")},"el-color-picker":function(t){var e=_(t),o=e.tag,n=e.disabled,a=e.vModel,i='size="'.concat(t.size,'"'),c=t["show-alpha"]?"show-alpha":"",r=t["color-format"]?'color-format="'.concat(t["color-format"],'"'):"";return"<".concat(o," ").concat(a," ").concat(i," ").concat(c," ").concat(r," ").concat(n,"></").concat(o,">")},"el-upload":function(t){var e=t.__config__.tag,o=t.disabled?":disabled='true'":"",n=t.action?':action="'.concat(t.__vModel__,'Action"'):"",a=t.multiple?"multiple":"",i="text"!==t["list-type"]?'list-type="'.concat(t["list-type"],'"'):"",c=t.accept?'accept="'.concat(t.accept,'"'):"",r="file"!==t.name?'name="'.concat(t.name,'"'):"",l=!1===t["auto-upload"]?':auto-upload="false"':"",s=':before-upload="'.concat(t.__vModel__,'BeforeUpload"'),d=':file-list="'.concat(t.__vModel__,'fileList"'),f='ref="'.concat(t.__vModel__,'"'),p=function(t){var e=[],o=t.__config__;return"picture-card"===t["list-type"]?e.push('<i class="el-icon-plus"></i>'):e.push('<el-button size="small" type="primary" icon="el-icon-upload">'.concat(o.buttonText,"</el-button>")),o.showTip&&e.push('<div slot="tip" class="el-upload__tip">只能上传不超过 '.concat(o.fileSize).concat(o.sizeUnit," 的").concat(t.accept,"文件</div>")),e.join("\n")}(t);return p&&(p="\n".concat(p,"\n")),"<".concat(e," ").concat(f," ").concat(d," ").concat(n," ").concat(l," ").concat(a," ").concat(s," ").concat(i," ").concat(c," ").concat(r," ").concat(o,">").concat(p,"</").concat(e,">")},tinymce:function(t){var e=_(t),o=e.tag,n=e.vModel,a=e.placeholder,i=t.height?':height="'.concat(t.height,'"'):"",c=t.branding?':branding="'.concat(t.branding,'"'):"";return"<".concat(o," ").concat(n," ").concat(a," ").concat(i," ").concat(c,"></").concat(o,">")}};function _(t){return{tag:t.__config__.tag,vModel:'v-model="'.concat(n.formModel,".").concat(t.__vModel__,'"'),clearable:t.clearable?"clearable":"",placeholder:t.placeholder?'placeholder="'.concat(t.placeholder,'"'):"",width:t.style&&t.style.width?":style=\"{width: '100%'}\"":"",disabled:t.disabled?":disabled='true'":""}}function m(t,e){var o=[];n=t,a=t.fields.some((function(t){return 24!==t.__config__.span})),t.fields.forEach((function(t){o.push(p[t.__config__.layout](t))}));var i=d(t,o.join("\n"),e);return"dialog"===e&&(i=c(i)),n=null,i}},dde7:function(t,e,o){"use strict";o.r(e),o.d(e,"makeUpCss",(function(){return a})),o("ac6a");var n={"el-rate":".el-rate{display: inline-block; vertical-align: text-top;}","el-upload":".el-upload__tip{line-height: 1.2;}"};function a(t){var e=[];return t.fields.forEach((function(t){return function t(e,o){var a=n[o.__config__.tag];a&&-1===e.indexOf(a)&&e.push(a),o.__config__.children&&o.__config__.children.forEach((function(o){return t(e,o)}))}(e,t)})),e.join("\n")}},def5:function(t,e,o){"use strict";o.r(e);var n=o("0042"),a=o("b311"),i=o.n(a),c=o("21a6"),r=o("f33e7"),l=(o("7257"),o("e552")),s={components:{},props:{jsonStr:{type:String,required:!0}},data:function(){return{}},computed:{},created:function(){},mounted:function(){var t=this;window.addEventListener("keydown",this.preventDefaultSave),new i.a(".copy-json-btn",{text:function(){return t.$notify({title:"成功",message:"代码已复制到剪切板，可粘贴。",type:"success"}),t.beautifierJson}}).on("error",(function(e){t.$message.error("代码复制失败")}))},beforeDestroy:function(){window.removeEventListener("keydown",this.preventDefaultSave)},methods:{preventDefaultSave:function(t){"s"===t.key&&(t.metaKey||t.ctrlKey)&&t.preventDefault()},onOpen:function(){this.beautifierJson=l.js(this.jsonStr,n.beautifierConf.js),this.setEditorValue("editorJson",this.beautifierJson)},onClose:function(){},setEditorValue:function(t,e){var o=this;this.jsonEditor?this.jsonEditor.setValue(e):(this.jsonEditor=r.a.create(document.getElementById(t),{value:e,theme:"vs-dark",language:"json",automaticLayout:!0}),this.jsonEditor.onKeyDown((function(t){49===t.keyCode&&(t.metaKey||t.ctrlKey)&&o.refresh()})))},exportJsonFile:function(){var t=this;this.$prompt("文件名:","导出文件",{inputValue:"".concat(+new Date,".json"),closeOnClickModal:!1,inputPlaceholder:"请输入文件名"}).then((function(e){var o=e.value;o||(o="".concat(+new Date,".json"));var n=t.jsonEditor.getValue(),a=new Blob([n],{type:"text/plain;charset=utf-8"});Object(c.saveAs)(a,o)}))},refresh:function(){try{this.$emit("refresh",JSON.parse(this.jsonEditor.getValue()))}catch(t){this.$notify({title:"错误",message:"JSON格式错误，请检查",type:"error"})}}}},d=(o("52dc"),o("2877")),f=Object(d.a)(s,(function(){var t=this,e=t._self._c;return e("div",[e("el-drawer",t._g(t._b({on:{opened:t.onOpen,close:t.onClose}},"el-drawer",t.$attrs,!1),t.$listeners),[e("div",{staticClass:"action-bar",style:{"text-align":"left"}},[e("span",{staticClass:"bar-btn",on:{click:t.refresh}},[e("i",{staticClass:"el-icon-refresh"}),t._v("\n                刷新\n            ")]),e("span",{ref:"copyBtn",staticClass:"bar-btn copy-json-btn"},[e("i",{staticClass:"el-icon-document-copy"}),t._v("\n                复制JSON\n            ")]),e("span",{staticClass:"bar-btn",on:{click:t.exportJsonFile}},[e("i",{staticClass:"el-icon-download"}),t._v("\n                导出JSON文件\n            ")]),e("span",{staticClass:"bar-btn delete-btn",on:{click:function(e){return t.$emit("update:visible",!1)}}},[e("i",{staticClass:"el-icon-circle-close"}),t._v("\n                关闭\n            ")])]),e("div",{staticClass:"json-editor",attrs:{id:"editorJson"}})])],1)}),[],!1,null,"55261907",null);e.default=f.exports},eb534:function(t,e,o){"use strict";o("9c4d")}}]);