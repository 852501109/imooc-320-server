(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-40c46da9","chunk-2d237543"],{"1c12":function(e,t,l){(e.exports=l("2350")(!1)).push([e.i,".news-type-sys-edit[data-v-6c0a20ba] .news-type-sys-introduction{min-height:90px!important;height:auto!important}.news-type-sys-edit[data-v-6c0a20ba] .news-type-sys-introduction /deep/ .el-textarea__inner{min-height:90px!important}.news-type-sys-edit .content-item[data-v-6c0a20ba]{background-color:#f5f7fa;border-color:#e4e7ed;padding:15px;word-wrap:break-word;word-break:normal}.news-type-sys-edit .msg-list-item .title[data-v-6c0a20ba]{font-size:14px;font-weight:700;margin-bottom:10px}",""])},"7dbf":function(e,t,l){"use strict";l.r(t),l("8e6e"),l("456d"),l("28a5");var a=l("ade3"),r=(l("ac6a"),l("2f62")),s=l("fb3d");function o(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function n(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?o(Object(l),!0).forEach((function(t){Object(a.a)(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):o(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var i={data:function(){return{msgTypeList:s.msgTypeList,msgNoticeTypeList:s.msgNoticeTypeList,levelList:s.levelList,sendStatusList:s.sendStatusList,handleStatusList:s.handleStatusList,channelList:s.channelList,formTitle:"edit"===this.$route.query.optType?"编辑消息管理":"view"===this.$route.query.optType?"查看消息管理":"新增消息管理",preview:"",ruleForm:{codeType:"",name:"",remark:""},rules:{},isView:!1,id:this.$route.query.id,handlerStatus:this.$route.query.type,receiverTableList:[],receiverTableTypeList:[],activeName:"1",channelType:[],channelListObj:{}}},created:function(){var e=this;s.channelList.forEach((function(t){e.channelListObj[t.value]=t.label})),this.$route.query.id&&this.loadData(),"view"===this.$route.query.optType&&(this.isView=!0)},methods:n(n({},Object(r.b)(["_AJAX"])),{},{loadData:function(){var e=this;this._AJAX({url:"sys.message.id",method:"GET",data:{id:this.$route.query.id,needSendList:1}}).then((function(t){0==t.code&&(e.ruleForm=t.result,e.receiverTableList=t.result.sendList||[],e.channelType=t.result.channelType&&t.result.channelType.split(",")||[],e.activeName=e.channelType[0],e.loadReceiverTableList())}))},loadReceiverTableList:function(){var e=this;this.receiverTableTypeList=[],this.receiverTableList.map((function(t){t.channelType==e.activeName&&e.receiverTableTypeList.push(t)}))},translation:function(e,t){if(null==t)return"-";for(var l=0;l<e.length;l++)if(e[l].value===t)return e[l].label},handleTabPaneClick:function(e,t){this.loadReceiverTableList()}})},u=(l("c560"),l("2877")),c=Object(u.a)(i,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("audaque-detail-form-page",{staticClass:"news-type-sys-edit",attrs:{title:e.formTitle,"opt-type":e.$route.query.optType}},[l("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",disabled:e.isView}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"应用key",prop:"appKey"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.ruleForm.appKey,callback:function(t){e.$set(e.ruleForm,"appKey",t)},expression:"ruleForm.appKey"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"应用名称",prop:"appName"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.ruleForm.appName,callback:function(t){e.$set(e.ruleForm,"appName",t)},expression:"ruleForm.appName"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"标题",prop:"title"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"摘要",prop:"messageAbstract"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.ruleForm.messageAbstract,callback:function(t){e.$set(e.ruleForm,"messageAbstract",t)},expression:"ruleForm.messageAbstract"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"消息类型",prop:"type"}},[l("el-select",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.msgTypeList,(function(e){return l("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1),3===e.ruleForm.type?l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"办理状态",prop:"handlerStatus"}},[l("el-select",{model:{value:e.ruleForm.handlerStatus,callback:function(t){e.$set(e.ruleForm,"handlerStatus",t)},expression:"ruleForm.handlerStatus"}},e._l(e.handleStatusList,(function(e){return l("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1):e._e(),l("el-col",{attrs:{span:12}},[3==e.handlerStatus?l("el-form-item",{attrs:{label:"办理人",prop:"handlerUsername"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.ruleForm.handlerUsername,callback:function(t){e.$set(e.ruleForm,"handlerUsername",t)},expression:"ruleForm.handlerUsername"}})],1):e._e()],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"通知对象",prop:"receiveType"}},[l("el-select",{model:{value:e.ruleForm.receiveType,callback:function(t){e.$set(e.ruleForm,"receiveType",t)},expression:"ruleForm.receiveType"}},e._l(e.msgNoticeTypeList,(function(e){return l("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"紧急程度",prop:"level"}},[l("el-select",{model:{value:e.ruleForm.level,callback:function(t){e.$set(e.ruleForm,"level",t)},expression:"ruleForm.level"}},e._l(e.levelList,(function(e){return l("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"内容",prop:"content"}},[l("div",{staticClass:"content-item",domProps:{innerHTML:e._s(e.ruleForm.content)}})])],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"原始内容",prop:"originalParam"}},[l("div",{staticClass:"content-item",domProps:{innerHTML:e._s(e.ruleForm.originalParam)}})])],1),l("div",{staticClass:"clear"})],1),l("div",{staticClass:"msg-list-item"},[l("div",{staticClass:"title"},[e._v("发送情况详情")]),l("el-tabs",{on:{"tab-click":e.handleTabPaneClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.channelType,(function(t,a){return l("el-tab-pane",{key:a,attrs:{label:e.channelListObj[t],name:t+""}})})),1),1==e.activeName?l("el-table",{staticClass:"el-table-common__list",attrs:{"tooltip-effect":"light","highlight-current-row":"",stripe:"",data:e.receiverTableTypeList,border:""}},[l("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"index",label:"序号",width:"50"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"username",label:"接收人"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"readFlag",label:"是否已读"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.readFlag?l("span",{staticStyle:{color:"#f56c6c"}},[e._v("已读")]):l("span",[e._v("未读")])]}}],null,!1,4045072024)}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"readTime",label:"已读时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.publics.formatTime(t.row.readTime,"Y-M-D h:m:s"))+"\n                ")]}}],null,!1,1487904667)})],1):e._e(),2==e.activeName?l("el-table",{staticClass:"el-table-common__list",attrs:{"tooltip-effect":"light","highlight-current-row":"",stripe:"",data:e.receiverTableTypeList,border:""}},[l("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"index",label:"序号",width:"50"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"username",label:"接收人"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"sendStatus",label:"发送状态"}},[[e._v("\n                    "+e._s(e.translation(e.sendStatusList,e.ruleForm.sendStatus))+"\n                ")]],2),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"sendTime",label:"发送时间"}},[[e._v("\n                    "+e._s(e.publics.formatTime(e.ruleForm.sendTime,"Y-M-D h:m:s"))+"\n                ")]],2)],1):e._e(),3==e.activeName?l("el-table",{staticClass:"el-table-common__list",attrs:{"tooltip-effect":"light","highlight-current-row":"",stripe:"",data:e.receiverTableTypeList,border:""}},[l("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"index",label:"序号",width:"50"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"username",label:"接收人"}}),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"sendStatus",label:"发送状态"}},[[e._v("\n                    "+e._s(e.translation(e.sendStatusList,e.ruleForm.sendStatus))+"\n                ")]],2),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"sendTime",label:"发送时间"}},[[e._v("\n                    "+e._s(e.publics.formatTime(e.ruleForm.sendTime,"Y-M-D h:m:s"))+"\n                ")]],2)],1):e._e()],1)],1)}),[],!1,null,"6c0a20ba",null);t.default=c.exports},c560:function(e,t,l){"use strict";l("df06")},df06:function(e,t,l){var a=l("1c12");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,l("499e").default)("dd8a5f88",a,!0,{sourceMap:!1,shadowMode:!1})},fb3d:function(e,t,l){"use strict";l.r(t),l.d(t,"msgTypeList",(function(){return a})),l.d(t,"msgNoticeTypeList",(function(){return r})),l.d(t,"levelList",(function(){return s})),l.d(t,"sendStatusList",(function(){return o})),l.d(t,"publishStatusList",(function(){return n})),l.d(t,"handleStatusList",(function(){return i})),l.d(t,"channelList",(function(){return u}));var a=[{label:"其他",value:0},{label:"公告",value:1},{label:"消息",value:2},{label:"任务",value:3},{label:"告警",value:4}],r=[{label:"标签",value:0},{label:"全部用户",value:1},{label:"用户",value:2},{label:"部门",value:3}],s=[{label:"默认",value:0},{label:"低",value:1},{label:"中",value:2},{label:"高",value:3}],o=[{label:"初始化",value:0},{label:"已发送",value:1},{label:"推送失败",value:3},{label:"失败不再发送",value:-1}],n=[{label:"未发布",value:0},{label:"已发布",value:1},{label:"已撤销",value:2}],i=[{label:"-",value:null},{label:"部分办理",value:3},{label:"撤销",value:2},{label:"办理",value:1},{label:"未办",value:0}],u=[{label:"系统",value:"1"},{label:"邮件",value:"2"},{label:"短信",value:"3"}]}}]);