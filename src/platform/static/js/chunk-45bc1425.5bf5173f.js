(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-45bc1425"],{4836:function(e,t,r){"use strict";r.r(t),r("7f7f"),r("8e6e"),r("456d"),r("ac6a");var a=r("ade3"),i=r("2f62");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={data:function(){return{value:"",rowId:this.$route.query.id,filter:"view"!=this.$route.query.filter,param:{id:"",departmentId:this.$route.query.departmentId,resourceName:"",resourceDesc:"",dataSourceId:"",retainBasePath:"",retainExtraPath:"",createUser:"",createTime:"",updateUser:"",updateTime:""},rules:{resourceName:[{required:!0,message:"请输入资源名称",trigger:"blur"}],resourceDesc:[{required:!1,message:"请输入资源描述",trigger:"blur"}],dataSourceId:[{required:!0,message:"请输入数据源id",trigger:"blur"}],retainBasePath:[{required:!0,message:"请输入文件保存基础路径(数据源配置的路径)",trigger:"blur"}],retainExtraPath:[{required:!0,message:"请输入文件路径（完整路径：retain_base_path+retain_extra_path）",trigger:"blur"}]}}},computed:o({},Object(i.d)("gdrsStructResourceTable",["dataSourceList"])),methods:o(o(o(o({},Object(i.b)(["_AJAX"])),Object(i.b)("gdrsStructResourceTable",["GETDATASOURCELIST"])),Object(i.b)("gdrsUnstructResource",["GOEDITGDRSUNSTRUCTRESOURCE","MODIFYGDRSUNSTRUCTRESOURCE","ADDGDRSUNSTRUCTRESOURCE"])),{},{subBtn:function(){var e=this,t=this;this.$refs.gdrsUnstructResourceForm.validate((function(r){if(!r)return!1;if(e.$store.commit("SHOW_LOADING",!0),e.rowId)e.param.id=e.rowId,e.MODIFYGDRSUNSTRUCTRESOURCE(e.param).then((function(r){0==r.code&&e.$AudaqueToast.tip({template:"修改成功",methods:{okEvent:function(){t.$router.go(-1)}}})}));else{var a=e.param;e.ADDGDRSUNSTRUCTRESOURCE(a).then((function(r){0==r.code&&e.$AudaqueToast.tip({template:"添加成功",methods:{okEvent:function(){t.$router.go(-1)}}})}))}}))},dataSourceChange:function(e){var t=this;e&&this.dataSourceList.forEach((function(r){r.id==e&&(t.param.dataSourceId=r.id,t.param.retainBasePath=r.ftpUrl)}))}}),mounted:function(){},created:function(){var e=this;this.GETDATASOURCELIST({type:"FTP"}),this.rowId&&this.GOEDITGDRSUNSTRUCTRESOURCE({id:this.rowId}).then((function(t){e.param.id=t.id,e.param.departmentId=t.departmentId,e.param.resourceName=t.resourceName,e.param.resourceDesc=t.resourceDesc,e.param.dataSourceId=t.dataSourceId,e.param.retainBasePath=t.retainBasePath,e.param.retainExtraPath=t.retainExtraPath,e.param.createUser=t.createUser,e.param.createTime=t.createTime,e.param.updateUser=t.updateUser,e.param.updateTime=t.updateTime}))}},u=(r("f692"),r("2877")),c=Object(u.a)(l,(function(){var e=this,t=e._self._c;return t("audaque-detail-form-page",{attrs:{title:e.filter?e.rowId?"文件管理编辑":"文件管理新增":"文件管理查看","opt-type":e.$route.query.filter},on:{"submit-click":e.subBtn}},[[t("el-form",{ref:"gdrsUnstructResourceForm",staticClass:"form-item",attrs:{model:e.param,"label-width":"120px",rules:e.rules,disabled:!e.filter}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"资源名称",prop:"resourceName",rules:e.rules.resourceName}},[t("el-input",{attrs:{disabled:!e.filter,placeholder:"请输入资源名称",maxlength:"200","show-word-limit":""},model:{value:e.param.resourceName,callback:function(t){e.$set(e.param,"resourceName","string"==typeof t?t.trim():t)},expression:"param.resourceName"}})],1),t("el-form-item",{attrs:{label:"资源描述",prop:"resourceDesc",rules:e.rules.resourceDesc}},[t("el-input",{attrs:{type:"textarea",autosize:"",disabled:!e.filter,placeholder:"请输入资源描述",maxlength:"200","show-word-limit":""},model:{value:e.param.resourceDesc,callback:function(t){e.$set(e.param,"resourceDesc","string"==typeof t?t.trim():t)},expression:"param.resourceDesc"}})],1),t("el-form-item",{attrs:{label:"数据源名称",prop:"dataSourceId",rules:e.rules.dataSourceId}},[t("el-select",{attrs:{placeholder:"请选择数据源",maxlength:"50",disabled:!e.filter,"value-key":"id"},on:{change:e.dataSourceChange},model:{value:e.param.dataSourceId,callback:function(t){e.$set(e.param,"dataSourceId","string"==typeof t?t.trim():t)},expression:"param.dataSourceId"}},e._l(e.dataSourceList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"上报路径",prop:"retainBasePath",rules:e.rules.retainBasePath}},[t("el-input",{attrs:{disabled:"",placeholder:"",maxlength:"200","show-word-limit":""},model:{value:e.param.retainBasePath,callback:function(t){e.$set(e.param,"retainBasePath","string"==typeof t?t.trim():t)},expression:"param.retainBasePath"}})],1)],1),t("el-col",{attrs:{span:16}},[t("el-input",{attrs:{disabled:!e.filter,placeholder:"请输入文件路径",maxlength:"200","show-word-limit":""},model:{value:e.param.retainExtraPath,callback:function(t){e.$set(e.param,"retainExtraPath","string"==typeof t?t.trim():t)},expression:"param.retainExtraPath"}})],1)],1)],1)]],2)}),[],!1,null,"5b21a608",null);t.default=c.exports},"7cbd":function(e,t,r){(e.exports=r("2350")(!1)).push([e.i,".get-edit-item[data-v-5b21a608]{padding-top:20px;margin:0 50px}.get-edit-item li[data-v-5b21a608]{margin-top:20px;display:-webkit-box;display:-ms-flexbox;display:flex}.get-edit-item li .get-edit-type[data-v-5b21a608]{height:40px;line-height:40px}.get-edit-item li .get-edit-title[data-v-5b21a608]{width:80px;color:#3a405b;height:40px;line-height:40px}.get-edit-item li .el-tree[data-v-5b21a608]{width:100%;border:1px solid #dcdfe6;padding:24px}",""])},a1e3:function(e,t,r){var a=r("7cbd");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,r("499e").default)("b435a7d0",a,!0,{sourceMap:!1,shadowMode:!1})},f692:function(e,t,r){"use strict";r("a1e3")}}]);