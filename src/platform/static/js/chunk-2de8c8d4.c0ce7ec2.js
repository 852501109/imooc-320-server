(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2de8c8d4","chunk-178d1bcc","chunk-cf01f506"],{"05e5":function(e,t,o){"use strict";o.r(t),o("8e6e"),o("ac6a"),o("456d"),o("7f7f");var a=o("ade3"),r=o("d574"),n=o("2f62"),i=o("365c"),s=o("83ee");function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){Object(a.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var u={data:function(){return{isSearch:!1,param:{name:null,categoryName:null,status:null,page:1,rows:10},tableList:{rows:[],total:0},idVisibleDialog:!1,procDefId:null,action:i.default["activiti.models.import"],token:sessionStorage.getItem("token"),categoryOptions:[]}},mixins:[r.default],created:function(){this.loadTypes(),this.loadData()},components:{processConfigPublic:s.default},methods:c(c({},Object(n.b)(["_AJAX"])),{},{loadData:function(){var e=this;this.parameterEchoMixin(),this.adqSearchListMixin={param:this.param},this._AJAX({url:"activiti.models.list",method:"GET",data:this.param}).then((function(t){0==t.code&&(e.tableList=t.result)}))},loadTypes:function(){var e=this;this._AJAX({url:"sys.category.list",method:"GET",data:{page:1,rows:9999}}).then((function(t){e.categoryOptions=t.result.rows}))},handleSizeChange:function(e){this.param.rows=e,this.param.page=1,this.loadData()},handleCurrentChange:function(e){this.param.page=e,this.loadData()},search:function(e){var t=this;this.param.page=1,0==e&&this.publics.resetFun(this.param,(function(){t.param.rows=10,t.applicationTime=null})),this.loadData()},infoEdit:function(e,t){this.$router.push({path:"/process/workflow/processConfigEdit",query:{optType:e,id:t?t.id:null}})},release:function(e){var t=this,o=this;this._AJAX({url:"activiti.process.audit",method:"POST",data:{procDefId:e.procDefId}}).then((function(e){0==e.code&&t.$AudaqueToast.tip({template:"操作成功",methods:{okEvent:function(){o.loadData()}}})})).catch((function(){}))},designFlow:function(e){this.$router.push({path:"/process/index",query:{modelId:e?e.modelId:null,name:e?e.name:null,modelKey:e?e.modelKey:null}})},revoke:function(e){var t=this,o=this;this._AJAX({url:"activiti.biz.proc.cancel",method:"POST",data:{procInstId:e.procInstId,bizCode:e.businessKey}}).then((function(e){0==e.code&&t.$AudaqueToast.tip({template:"操作成功",methods:{okEvent:function(){o.loadData()}}})}))},loadImg:function(e){this.$AudaqueToast.dialog({title:"流程",width:"1000px",data:{pic:i.default["activiti.models.img"]+"?procDefId="+e.procDefId+"&t="+Date.now()},template:'\n                        <div style="text-align:center;">\n                            <img :src="pic" style="min-height:250px"/>\n                        </div>\n\n                    '})},versioManageMent:function(e){this.$router.push({path:"/process/workflow/versionManagement",query:{procDefKey:e?e.procDefKey:null,categoryId:e.categoryId}})},isActivate:function(e){var t=this,o=this,a=1===e.status?0:1;this._AJAX({url:"activiti.process.status",method:"POST",data:{status:a,procDefId:e.procDefId}}).then((function(e){0==e.code&&t.$AudaqueToast.tip({template:"操作成功",methods:{okEvent:function(){o.loadData()}}})})).catch((function(){}))},del:function(e){var t=this,o=e.modelId?e.modelId:e.id;this.$AudaqueToast.warn({template:"确定删除？",methods:{okEvent:function(){var e=this,a=i.default["activiti.models.delete"]+"/"+o;t._AJAX({url:a,method:"GET",data:{}}).then((function(o){e.$AudaqueToast.tip({template:"删除成功",methods:{okEvent:function(){t.loadData()}}})}))}}})},versionDeploy:function(e){var t=this,o=this,a=i.default["activiti.models.deploy"]+"/"+e.id;this._AJAX({url:a,method:"POST",data:{}}).then((function(e){0==e.code&&t.$AudaqueToast.tip({template:"部署成功",methods:{okEvent:function(){o.loadData()}}})}))},submitForm:function(){this.$refs.processConfig.submitForm()},isCloseDialog:function(){this.idVisibleDialog=!1,this.loadData()},uploadSuccess:function(e,t,o){if(0===e.code){var a=this;this.$AudaqueToast.tip({template:"导入成功",methods:{okEvent:function(){a.loadData()}}}),this.$refs.uploadFile.clearFiles()}else this.$AudaqueToast.error({template:e.msg,methods:{okEvent:function(){}}})},uploadError:function(e,t,o){this.$AudaqueToast.error({template:"导入失败",methods:{okEvent:function(){}}})}})},d=(o("a6e0"),o("2877")),p=Object(d.a)(u,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("audaque-table-list-page",[o("template",{slot:"title"},[o("audaque-table-title",{attrs:{title:"流程模型"}},[o("i",{staticClass:"iconfont iconxinzeng2 audaque-rect-icon",on:{click:function(t){return e.infoEdit("add")}}},[e._v(" 新增")]),o("i",{staticClass:"iconfont iconshaixuan audaque-rect-icon",on:{click:function(t){e.isSearch=!e.isSearch}}},[e._v("筛选查询 ")])])],1),o("template",{slot:"search"},[o("audaque-table-search",{directives:[{name:"show",rawName:"v-show",value:e.isSearch,expression:"isSearch"}],on:{close:function(t){e.isSearch=!1},search:function(t){return e.search(1)},reset:function(t){return e.search(0)}}},[o("audaque-table-search-item",{attrs:{title:"流程名称"}},[o("el-input",{staticClass:"autoSize f14",attrs:{clearable:""},model:{value:e.param.name,callback:function(t){e.$set(e.param,"name",t)},expression:"param.name"}})],1),o("audaque-table-search-item",{attrs:{title:"业务名称"}},[o("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.param.categoryId,callback:function(t){e.$set(e.param,"categoryId",t)},expression:"param.categoryId"}},e._l(e.categoryOptions,(function(e){return o("el-option",{key:"option-"+e.id,attrs:{label:e.name,value:e.id}})})),1)],1),o("audaque-table-search-item",{attrs:{title:"状态"}},[o("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.param.status,callback:function(t){e.$set(e.param,"status",t)},expression:"param.status"}},[o("el-option",{attrs:{label:"未发布",value:0}}),o("el-option",{attrs:{label:"已发布",value:1}})],1)],1)],1)],1),[o("el-table",{staticClass:"el-table-common__list",attrs:{"tooltip-effect":"light","highlight-current-row":"",stripe:"",data:e.tableList.rows,border:""}},[o("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"index",label:"序号",index:function(t){return e.$utils._indexMethod(t,e.param.page,e.param.rows)},width:"50"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",label:"流程名称"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"modelKey",label:"流程key"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"categoryName",label:"业务名称"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"version",label:"当前启用版本"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(null!=t.row.version?0===t.row.version?"无":"v."+t.row.version:"-")+"\n                ")]}}])}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"diagramName",label:"图片名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticStyle:{cursor:"pointer",color:"#5394eb"},on:{click:function(o){return e.loadImg(t.row)}}},[e._v(e._s(t.row.diagramName))])]}}])}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"createTime",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.publics.formatTime(t.row.createTime,"Y-M-D h:m:s"))+"\n                ")]}}])}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"updateTime",label:"更新时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.publics.formatTime(t.row.updateTime,"Y-M-D h:m:s"))+"\n                ")]}}])}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(null!=t.row.status||3!=t.row.status?0===t.row.status?"未发布":"已发布":"-")+"\n                ")]}}])}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"description",label:"备注"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作",width:"220px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!=t.row.status||"-"===t.row.status?o("span",{staticClass:"iconfont iconFill",attrs:{title:"编辑"},on:{click:function(o){return e.infoEdit("edit",t.row)}}}):e._e(),o("span",{staticClass:"iconfont iconchakan11",attrs:{title:"查看"},on:{click:function(o){return e.infoEdit("view",t.row)}}}),o("span",{staticClass:"iconfont iconliuchengsheji operate",attrs:{title:"设计流程"},on:{click:function(o){return e.designFlow(t.row)}}}),t.row.modelId?o("span",{staticClass:"iconfont iconbushu operate",attrs:{title:"版本部署"},on:{click:function(o){return e.versionDeploy(t.row)}}}):e._e(),o("span",{staticClass:"iconfont iconbanbenguanli operate",attrs:{title:"版本管理"},on:{click:function(o){return e.versioManageMent(t.row)}}}),t.row.procDefId||3!=t.row.categoryId?o("span",{class:["iconfont operate",0===t.row.status?"iconpublish":"iconquxiaofabu"],attrs:{title:0===t.row.status?"发布":"取消发布"},on:{click:function(o){return e.isActivate(t.row)}}}):e._e(),o("el-upload",{ref:"uploadFile",staticClass:"upload-file",staticStyle:{display:"inline-block"},attrs:{action:e.action,data:{categoryId:t.row.categoryId},"on-success":e.uploadSuccess,"on-error":e.uploadError,headers:e.publics.ajaxHeaders()}},[o("span",{staticClass:"iconfont icondaoru1 operate",attrs:{title:"导入流程"}})]),1!=t.row.status||"-"===t.row.status?o("span",{staticClass:"iconfont iconShape1 operate",attrs:{title:"删除"},on:{click:function(o){return e.del(t.row)}}}):e._e()]}}])}),o("template",{slot:"empty"},[o("audaque-table-empty",{attrs:{tableFetchStatus:e.$store.state.tableFetchStatus,"is-new":!1},on:{fetch:function(t){return e.loadData()}}})],1)],2),o("adq-pagination",{attrs:{"current-page":e.param.page,"page-size":e.param.rows,total:e.tableList.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],o("el-dialog",{staticClass:"data-permission",attrs:{title:"新增",visible:e.idVisibleDialog,width:"500","close-on-click-modal":!1},on:{"update:visible":function(t){e.idVisibleDialog=t}}},[e.idVisibleDialog?o("process-config-public",{ref:"processConfig",attrs:{"opt-type":"add","proc-def-id":e.procDefId},on:{"is-close-dialog":e.isCloseDialog}}):e._e(),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.idVisibleDialog=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],2)}),[],!1,null,"1fdcf416",null);t.default=p.exports},"1e0e":function(e,t,o){var a=o("35c5");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,o("499e").default)("42a83a56",a,!0,{sourceMap:!1,shadowMode:!1})},"2dcb":function(e,t,o){var a=o("a649");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,o("499e").default)("44c8162a",a,!0,{sourceMap:!1,shadowMode:!1})},"35c5":function(e,t,o){(e.exports=o("2350")(!1)).push([e.i,".adq-tree[data-v-68f82a22]{border:1px solid #dcdfe6;width:100%;z-index:99999;max-height:300px;overflow:auto}.adq-tree .filter-tree-input .query-btn[data-v-68f82a22]{background:#409eff;color:#fff}.adq-tree .adq-tree-item[data-v-68f82a22]{height:260px}.adq-tree .adq-tree-item[data-v-68f82a22] .el-loading-spinner i{font-size:30px}",""])},"83ee":function(e,t,o){"use strict";o.r(t),o("8e6e"),o("456d"),o("ac6a"),o("c5f6"),o("28a5");var a=o("ade3"),r=(o("96cf"),o("1da1")),n=o("2f62"),i=o("aad9");function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){Object(a.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var c,u={name:"processConfigPublic",props:{id:{type:String},optType:{type:String}},data:function(){return{preview:"",ruleForm:{name:null,roles:[],categoryId:null,dep:[],formIds:null,procCode:null},rules:{name:[{required:!0,message:"流程名称不能为空",trigger:"blur"}]},isView:!1,typeList:[],defaultCheckedKeys:[],formList:[],isShowDialog:!1,formConf:{},key2:+new Date}},created:(c=Object(r.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._AJAX({url:"form.design.list",method:"GET",data:{page:1,rows:1e4,all:1}}).then((function(e){0==e.code&&(t.formList=e.result.rows)}));case 2:return e.next=4,this._AJAX({url:"sys.category.list",method:"GET",data:{page:1,rows:99999,exitProcess:"add"===this.optType?1:null}}).then((function(e){0==e.code&&(t.typeList=e.result.rows)}));case 4:if(!this.id){e.next=7;break}return e.next=7,this.loadData();case 7:"view"===this.optType&&(this.isView=!0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)}),components:{adqTree:i.default},methods:l(l({},Object(n.b)(["_AJAX"])),{},{loadData:function(){var e=this;this._AJAX({url:"activiti.process.select.id",method:"GET",data:{id:this.id}}).then((function(t){if(0==t.code){var o=t.result;e.defaultCheckedKeys=o.dep?o.dep.split(",").map(Number):[],o.roles=o.roles?o.roles.split(",").map(Number):[],e.ruleForm=o,e.formList=e.formList.concat(o.forms),o.formIds.map((function(t){o.forms.map((function(o){t===o.id&&e.$nextTick((function(){e.$refs.multipleTable.toggleRowSelection(o)}))}))})),e.ruleForm.formIds=o.formIds}}))},treeCheckChange:function(e,t){var o=this.$refs.tree.$refs.adqTree.getCheckedKeys();this.$set(this.ruleForm,"dep",o)},modifyCheckedKeys:function(e){this.defaultCheckedKeys=e},changeName:function(e){var t=this;this.typeList.forEach((function(o){o.id===e&&(t.ruleForm.procCode=o.code)}))},handleSelectionChange:function(e){this.ruleForm.formIds=e.map((function(e){return e.id}))},viewForm:function(e){e.formJson?(this.formConf=JSON.parse(e.formJson),this.isShowDialog=!0):this.$AudaqueToast.error({template:"无可预览的表单",methods:{okEvent:function(){}}})},submitForm:function(){var e=this;this.$refs.ruleForm.validate((function(t){var o=e;if(!t)return!1;var a=e.$refs.tree.$refs.adqTree.getCheckedKeys();if(a&&a.length>0){var r=Object.assign({},e.ruleForm);r.dep=a?a.join(","):"",r.roles=r.roles?r.roles.join(","):"",r.latest=null,e._AJAX({url:"add"===e.optType?"activiti.process.new":"activiti.process.update",method:"POST",data:r}).then((function(t){e.$AudaqueToast.tip({template:"add"===e.optType?"新增成功":"修改成功",methods:{okEvent:function(){o.$router.go(-1)}}})}))}else e.$AudaqueToast.error({template:"请选择可见范围",methods:{okEvent:function(){}}})}))}})},d=(o("9ea8"),o("2877")),p=Object(d.a)(u,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"process-config-edit"},[o("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"90px",disabled:e.isView}},[o("el-form-item",{attrs:{label:"流程名称",prop:"name"}},[o("el-input",{attrs:{maxlength:"24","show-word-limit":""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),o("el-form-item",{attrs:{label:"业务名称",prop:"categoryId"}},[o("el-select",{attrs:{placeholder:"请选择",disabled:"edit"===e.optType},on:{change:e.changeName},model:{value:e.ruleForm.categoryId,callback:function(t){e.$set(e.ruleForm,"categoryId",t)},expression:"ruleForm.categoryId"}},e._l(e.typeList,(function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"可见范围",prop:"dep"}},[o("adq-tree",{ref:"tree",attrs:{defaultCheckedKeys:e.defaultCheckedKeys,"check-strictly":!0},on:{"check-change":e.treeCheckChange,"modify-checked-keys":e.modifyCheckedKeys}})],1),o("el-form-item",{attrs:{label:"备注",prop:"description"}},[o("el-input",{staticClass:"news-type-sys-introduction",attrs:{type:"textarea",autosize:"",placeholder:"",maxlength:"100","show-word-limit":""},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1),o("el-form-item",{attrs:{label:"绑定表单",prop:"formIds"}},[o("el-table",{ref:"multipleTable",staticClass:"el-table-common__list",attrs:{"tooltip-effect":"light","highlight-current-row":"",stripe:"",data:e.formList,border:""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"index",label:"序号"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"formName",label:"表单名称"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作",width:"220px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticClass:"iconfont iconchakan11 operate",attrs:{title:"预览表单"},on:{click:function(o){return e.viewForm(t.row)}}})]}}])})],1)],1)],1),o("el-dialog",{staticClass:"data-permission",attrs:{title:"预览表单",visible:e.isShowDialog,width:"500","close-on-click-modal":!1},on:{"update:visible":function(t){e.isShowDialog=t},close:function(t){return e.$refs.formParser.resetForm()}}},[Object.keys(e.formConf).length>0&&e.isShowDialog?o("form-parser",{key:e.key2,ref:"formParser",attrs:{formConf:e.formConf,isDisabled:!0}}):e._e(),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.isShowDialog=!1}}},[e._v("关 闭")])],1)],1)],1)}),[],!1,null,"5429ea6c",null);t.default=p.exports},9235:function(e,t,o){(e.exports=o("2350")(!1)).push([e.i,"[data-v-1fdcf416] .upload-file .el-upload-list{display:none}",""])},"9a7c":function(e,t,o){"use strict";o("1e0e")},"9ea8":function(e,t,o){"use strict";o("2dcb")},a649:function(e,t,o){(e.exports=o("2350")(!1)).push([e.i,".process-config-edit[data-v-5429ea6c] .news-type-sys-introduction{min-height:90px!important;height:auto!important}.process-config-edit[data-v-5429ea6c] .news-type-sys-introduction /deep/ .el-textarea__inner{min-height:90px!important}",""])},a6e0:function(e,t,o){"use strict";o("ff55")},aad9:function(e,t,o){"use strict";o.r(t),o("8e6e"),o("456d"),o("7f7f"),o("ac6a");var a=o("ade3"),r=o("2f62");function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){Object(a.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var s={name:"adqTree",data:function(){return{filterText:"",isAllCheck:null,allIds:[],treeData:[],loading:!1}},watch:{treeData:{handler:function(e){},deep:!0}},props:{defaultCheckedKeys:{type:Array,default:function(){return[]}},defaultExpandedKeys:{type:Array,default:function(){return[]}},checkStrictly:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!0},expandOnClickNode:{type:Boolean,default:!0},nodeKey:{type:String,default:"id"},defaultProps:{type:Object,default:function(){return{label:"name",children:"children",isLeaf:"isEnd"}}}},mounted:function(){this.loadInit()},methods:i(i({},Object(r.b)(["_AJAX"])),{},{loadInit:function(){var e=this;this.loading=!0,this._AJAX({url:"org.findRootDept",method:"GET",data:{}}).then((function(t){0===t.code&&e._AJAX({url:"org.findRootDeptTree",method:"GET",data:{deptId:t.result.id}}).then((function(t){e.treeData=[t.result],e.loading=!1,e.defaultExpandedKeys.push(t.result.id),e.allIds=[],e.loadIds([t.result])}))}))},loadIds:function(e){var t=this;e.forEach((function(e){t.allIds.push(e.id),e.children&&e.children.length>0&&t.loadIds(e.children)}))},treeIsAllCheck:function(e){e?this.$refs.adqTree.setCheckedKeys(this.allIds):this.$refs.adqTree.setCheckedKeys([])},clickInquireTreeData:function(){var e=this;this.loading=!0,setTimeout((function(){e.$refs.adqTree.filter(e.filterText),e.$nextTick().then((function(){setTimeout((function(){e.loading=!1}),500)}))}),50)},filterNode:function(e,t,o){return!e||-1!==t.name.indexOf(e)},filterNodeMethod:function(e){var t=this;!function o(a){a.map((function(a){var r=a[t.defaultProps.children];a.visible=t.filterNode(e,a),r&&r.length>0&&o(r)}))}(this.treeData)},handleNodeClick:function(e,t){this.$emit("node-click",e,t)},handleCheckChange:function(e,t){this.$emit("check-change",e,t)},handleRenderContent:function(e,t){var o=t.node,a=t.data,r=(t.store,"iconfont icondrxx95 group");return a.isPosition?r=a.leader?"iconfont iconlingdao leader":"iconfont iconyuangong people":1===o.level&&(r="iconfont icondrxx95 root"),e("span",{class:r,style:""},[" ",a.name])}})},l=(o("9a7c"),o("2877")),c=Object(l.a)(s,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"adq-tree"},[o("el-input",{staticClass:"filter-tree-input",attrs:{placeholder:"输入关键字进行过滤",clearable:""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[o("el-button",{staticClass:"query-btn",attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.clickInquireTreeData},slot:"append"},[e._v("搜索")])],1),o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"adq-tree-item",attrs:{"element-loading-spinner":"el-icon-loading"}},[e.showCheckbox?o("el-radio-group",{staticStyle:{"margin-left":"20px"},on:{change:e.treeIsAllCheck},model:{value:e.isAllCheck,callback:function(t){e.isAllCheck=t},expression:"isAllCheck"}},[o("el-radio-button",{attrs:{label:!0}},[e._v("全选")]),o("el-radio-button",{attrs:{label:!1}},[e._v("全不选")])],1):e._e(),o("el-tree",{ref:"adqTree",staticClass:"tree-dashed",attrs:{props:e.defaultProps,"show-checkbox":e.showCheckbox,"expand-on-click-node":e.expandOnClickNode,"node-key":e.nodeKey,"default-checked-keys":e.defaultCheckedKeys,"default-expanded-keys":e.defaultExpandedKeys,"check-strictly":e.checkStrictly,"render-content":e.handleRenderContent,"filter-node-method":e.filterNode,indent:20,data:e.treeData},on:{"node-click":e.handleNodeClick,"check-change":e.handleCheckChange}})],1)],1)}),[],!1,null,"68f82a22",null);t.default=c.exports},ff55:function(e,t,o){var a=o("9235");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,o("499e").default)("77b4c19d",a,!0,{sourceMap:!1,shadowMode:!1})}}]);