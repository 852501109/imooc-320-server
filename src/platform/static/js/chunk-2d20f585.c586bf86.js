(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d20f585"],{b2dc:function(t,e,a){"use strict";a.r(e),a("8e6e"),a("456d"),a("7f7f"),a("7514"),a("6762"),a("2fdb"),a("ac6a");var s=a("ade3"),n=a("2f62");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var i={computed:r({},Object(n.d)("fusionTask",["databaseConf"])),data:function(){return{storey:["au_ods","au_std","au_dwd","au_dwm","au_dws","au_app"],databaseList:[{label:"前置库",options:[]},{label:"",options:[]}],nameMap:{0:"stepStart",au_ods:"stepOds",au_std:"stepStd",au_dwd:"stepDwd",au_dwm:"stepDwm",au_dws:"stepDws",au_app:"stepApp"},titleMap:{0:"开始",1:"归集层",2:"标准层",3:"基础层",4:"主题层",5:"专题层",6:"安全层",7:"前置库"},process:[{id:"",title:"开始",stepId:"",success:!1}]}},methods:r(r({},Object(n.b)("fusionTask",["GET_DATA_BASE_LIST","GET_STEP_HEADERR"])),{},{getStepHeader:function(){var t=this;return new Promise((function(e){t.GET_STEP_HEADERR({taskId:t.$route.query.taskId}).then((function(a){if(a&&a.length>0){var s=a;s.forEach((function(e,a){if(0===a)e.success=!0,e.title="开始";else{var s=e.stepDetailList[0].targetDbCode;e.success=!0,e.title=t.storey.includes(s)?t.databaseList[1].options.find((function(t){return t.code===s})).label:t.databaseList[0].options.find((function(t){return t.code===s})).label}})),t.process=s}e(a)}))}))}}),created:function(){var t=this;this.isLoading=!0,this.$store.commit("fusionTask/changeLoading",!0),this.databaseList[1].options=[],this.GET_DATA_BASE_LIST().then((function(){t.databaseConf.frontDBList.forEach((function(e,a){t.databaseList[0].options.push({label:e.name,value:a+1,type:e.type,code:e.code})})),t.databaseConf.modelDBList.forEach((function(e,a){t.databaseList[1].options.push({label:e.name,value:a+1,type:e.type,code:e.code})})),t.getStepHeader().then((function(e){t.backTo(e[0])}))}))}};e.default=i}}]);