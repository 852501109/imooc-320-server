(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d226166"],{e6ba:function(t,e,n){"use strict";n.r(e),n("8e6e"),n("456d"),n("7514"),n("7f7f"),n("5df3"),n("4f7f"),n("a481"),n("ac6a");var i=n("ade3"),a=n("2f62");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.default={props:{title:{type:String,default:"表详情"}},data:function(){return{dis:void 0,list:[],disabledNum:0,editTable:{columnList:[]},show:!1}},computed:r({},Object(a.d)("baseLayer",["dataTypeOptions"])),created:function(){this.GETDATATYPEOPTIONS_LIST()},methods:r(r({},Object(a.b)("baseLayer",["GETDATATYPEOPTIONS_LIST","GETCOLUMNBYTABLEID","MODIFYCOLUMN"])),{},{init:function(t,e){var n=this;this.dis=e,this.disabledNum=e,this.editTable.columnList=[],this.GETCOLUMNBYTABLEID({tableId:t}).then((function(t){t&&(n.title=t[0]&&t[0].tableName?"表详情("+t[0].tableName+")":"表详情",t.forEach((function(t){n.editTable.columnList.push(t)})),t[0]&&t[0].dos.length>0&&1==t[0].dos[0].status&&(n.disabledNum=1),n.show=!0)}))},onChange:function(t,e){1==e&&(this.editTable.columnList[t].nullAble=0)},handleInput:function(t,e){t[e]=t[e].replace(/\D/g,"")},checkDuplicates:function(t,e){for(var n=new Set,i=0;i<t.length;i++){if(n.has(t[i][e]))return!0;n.add(t[i][e])}return!1},sure:function(){var t=this,e=this,n=this.editTable.columnList;n.find((function(t){return""===t.columnName}))?this.$AudaqueToast.warn({template:"列名不可为空"}):this.checkDuplicates(n,"columnName")?this.$AudaqueToast.warn({template:"列名不能重复"}):(this.$store.commit("SHOW_LOADING",!0),this.MODIFYCOLUMN(this.editTable).then((function(n){0==n.code&&t.$AudaqueToast.tip({template:"修改成功,若有未上线任务引用，请前往修改任务！",methods:{okEvent:function(){e.show=!1}}})})))}})}}}]);