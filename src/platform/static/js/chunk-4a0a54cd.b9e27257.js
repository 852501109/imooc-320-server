(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4a0a54cd"],{6299:function(e,t,i){"use strict";i("fc32")},c07e:function(e,t,i){"use strict";i.r(t),i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("7f7f"),i("6b54"),i("8e6e"),i("ac6a"),i("456d");var a=i("ade3"),n=i("2f62"),r=i("313e");function o(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return l(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){Object(a.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d={data:function(){return{value:"",rowId:this.$route.query.id,filter:"view"!=this.$route.query.filter,param:{},data:[],pieData:[],allData:[],lineData:[],isfalg:!0}},computed:{},methods:c(c({},Object(n.b)("apiMonitor",["GETDETAILBYID","GETDEPTFREQUENCYLIST","GETDEPTFREQUENCYALLLIST","GETFAILSUCCESS","GETTIMECOUNTES"])),{},{subBtn:function(){},fontSize:function(e){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(t){var i=e*(t/1920);return i}},getDetailById:function(){var e=this;this.GETDETAILBYID({id:this.rowId}).then((function(t){e.param=t}))},bulrInitOne:function(){var e={xAxis:{type:"value",nameLocation:"end",name:"（次）",nameTextStyle:{color:"#333",fontSize:this.fontSize(10),padding:[this.fontSize(5),this.fontSize(5),0,0],verticalAlign:"top"},boundaryGap:!0,axisLabel:{interval:0,textStyle:{color:"#333333",fontSize:this.fontSize(12)}},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#D5D6D7"}}},legend:{show:!0,x:"center",y:"0%",icon:"roundRect",itemWidth:this.fontSize(20),itemHeight:this.fontSize(6),itemGap:this.fontSize(14),data:["前五部门访问次数"],textStyle:{fontSize:this.fontSize(12),lineHeight:this.fontSize(12),rich:{a:{verticalAlign:"middle"}},padding:[0,0,-2,0]}},tooltip:{},yAxis:{data:this.data.map((function(e){return e.serviceProviderDeptName})),type:"category",position:"left",inverse:!0,splitLine:{show:!0,lineStyle:{color:"#D5D6D7",type:"dashed"}},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#D5D6D7"}},axisLabel:{show:!0,textStyle:{color:"#333333",fontSize:this.fontSize(12)}}},grid:{left:this.fontSize(60),right:this.fontSize(50),top:this.fontSize(40),bottom:this.fontSize(100),containLabel:!0},color:[(this.type,"#000")],series:[{name:"前五部门访问次数",type:"bar",data:this.data.map((function(e){return e.callTotalNumber})),barWidth:this.fontSize(20),barBorderRadius:50,barGap:0,itemStyle:{normal:{color:new r.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#F3B612"},{offset:1,color:"#FFF100"}]),opacity:1,barBorderRadius:30}}}]};setTimeout((function(){var t,i=o(document.getElementsByClassName("deptBulr"));try{for(i.s();!(t=i.n()).done;){var a=t.value;a.setAttribute("_echarts_instance_",""),window.myRightCenterOne=r.init(a),window.myRightCenterOne.setOption(e)}}catch(e){i.e(e)}finally{i.f()}}))},pieInitOne:function(){var e={tooltip:{show:!0,formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"5%",left:"center"},series:[{name:"访问成功失败次数占比",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:this.pieData}]};setTimeout((function(){var t,i=o(document.getElementsByClassName("deptPie"));try{for(i.s();!(t=i.n()).done;){var a=t.value;a.setAttribute("_echarts_instance_",""),window.myRightCenterOne=r.init(a),window.myRightCenterOne.setOption(e)}}catch(e){i.e(e)}finally{i.f()}}))},AllBulrInitOne:function(){var e={tooltip:{show:!0,formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"5%",left:"center"},series:[{name:"所有部门访问次数占比",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:this.allData}]};setTimeout((function(){var t,i=o(document.getElementsByClassName("deptAllBlur"));try{for(i.s();!(t=i.n()).done;){var a=t.value;a.setAttribute("_echarts_instance_",""),window.myRightCenterOne=r.init(a),window.myRightCenterOne.setOption(e)}}catch(e){i.e(e)}finally{i.f()}}))},lineInitOne:function(){var e={xAxis:{nameLocation:"end",name:"（时）",type:"category",data:this.lineData.map((function(e){return e.provideNumber}))},yAxis:{nameLocation:"end",name:"（次）",type:"value"},tooltip:{formatter:function(e){return"".concat(e.dataIndex,"时   ").concat(e.value,"次")}},series:[{data:this.lineData.map((function(e){return e.callTotalNumber})),type:"line",smooth:!0}]};setTimeout((function(){var t,i=o(document.getElementsByClassName("deptLine"));try{for(i.s();!(t=i.n()).done;){var a=t.value;a.setAttribute("_echarts_instance_",""),window.myRightCenterOne=r.init(a),window.myRightCenterOne.setOption(e)}}catch(e){i.e(e)}finally{i.f()}}))}}),mounted:function(){var e=this;this.GETDEPTFREQUENCYLIST({id:this.rowId}).then((function(t){e.data=t,0==e.data.length?e.isfalg=!1:e.bulrInitOne()})),this.GETDEPTFREQUENCYALLLIST({id:this.rowId}).then((function(t){e.allData=t.map((function(e){return{name:e.serviceProviderDeptName,value:e.callTotalNumber}})),e.AllBulrInitOne()})),this.GETFAILSUCCESS({id:this.rowId}).then((function(t){e.pieData=t.map((function(e){return{name:e.serviceProviderDeptName,value:e.callTotalNumber}})),e.pieInitOne()})),this.GETTIMECOUNTES({id:this.rowId}).then((function(t){e.lineData=t,e.lineInitOne()}))},created:function(){this.getDetailById()}},p=(i("6299"),i("2877")),f=Object(p.a)(d,(function(){var e=this,t=e._self._c;return t("audaque-detail-form-page",{attrs:{title:e.filter?e.rowId?"API服务管理编辑":"API服务管理新增":"API访问监控详情","opt-type":e.$route.query.filter},on:{"submit-click":e.subBtn}},[[t("el-form",{ref:"apiServiceManageForm",staticClass:"form-item",attrs:{model:e.param,"label-width":"120px",disabled:!e.filter}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"服务英文名",prop:"serviceNameEn"}},[t("el-input",{attrs:{disabled:!e.filter,maxlength:"200","show-word-limit":""},model:{value:e.param.serviceNameEn,callback:function(t){e.$set(e.param,"serviceNameEn","string"==typeof t?t.trim():t)},expression:"param.serviceNameEn"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"服务中文名",prop:"serviceNameCn"}},[t("el-input",{attrs:{disabled:!e.filter,maxlength:"200","show-word-limit":""},model:{value:e.param.serviceNameCn,callback:function(t){e.$set(e.param,"serviceNameCn","string"==typeof t?t.trim():t)},expression:"param.serviceNameCn"}})],1)],1)],1),t("el-form-item",{attrs:{label:"服务提供方",prop:"serviceProviderDeptName"}},[t("el-input",{attrs:{disabled:!e.filter,maxlength:"200","show-word-limit":""},model:{value:e.param.serviceProviderDeptName,callback:function(t){e.$set(e.param,"serviceProviderDeptName","string"==typeof t?t.trim():t)},expression:"param.serviceProviderDeptName"}})],1),e.isfalg?t("el-row",[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"title"},[e._v("部门访问次数从高到低top5")]),t("div",{staticClass:"deptBulr"})]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"title"},[e._v("所有部门访问次数占比")]),t("div",{staticClass:"deptAllBlur"})]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"title"},[e._v("访问成功和访问失败的占比")]),t("div",{staticClass:"deptPie"})])],1):e._e(),e.isfalg?t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"title"},[e._v("访问时间段趋势")]),t("div",{staticClass:"deptLine"})])],1):e._e()],1)],1)],1)]],2)}),[],!1,null,"c2ea034a",null);t.default=f.exports},e4a1:function(e,t,i){(e.exports=i("2350")(!1)).push([e.i,".get-edit-item[data-v-c2ea034a]{padding-top:20px;margin:0 50px}.get-edit-item li[data-v-c2ea034a]{margin-top:20px;display:-webkit-box;display:-ms-flexbox;display:flex}.get-edit-item li .get-edit-type[data-v-c2ea034a]{height:40px;line-height:40px}.get-edit-item li .get-edit-title[data-v-c2ea034a]{width:80px;color:#3a405b;height:40px;line-height:40px}.get-edit-item li .el-tree[data-v-c2ea034a]{width:100%;border:1px solid #dcdfe6;padding:24px}[data-v-c2ea034a] .el-input__inner{text-align:center!important}.deptAllBlur[data-v-c2ea034a]{left:30px}.deptAllBlur[data-v-c2ea034a],.deptBulr[data-v-c2ea034a]{width:450px;height:400px;top:15px}.deptBulr[data-v-c2ea034a]{left:10px}.deptPie[data-v-c2ea034a]{width:450px;height:400px;left:15px;top:15px}.deptLine[data-v-c2ea034a]{width:100%;height:400px}.title[data-v-c2ea034a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:nowrap;flex-wrap:nowrap;width:100%;height:15%;text-align:center;font-size:.18rem;color:#3c7bfa;padding-left:90px}",""])},fc32:function(e,t,i){var a=i("e4a1");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,i("499e").default)("7e43392c",a,!0,{sourceMap:!1,shadowMode:!1})}}]);