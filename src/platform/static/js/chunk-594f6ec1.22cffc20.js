(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-594f6ec1","chunk-2d0a3ac9","chunk-2d0c22fa","chunk-2d217533","chunk-2d0aeb38"],{"02d5":function(t,i,e){"use strict";e.r(i),e("7514"),e("a481"),e("28a5"),e("6c7b");var a,n,r=e("53ca");a=window,n=function(t){var i,e,a,n,s,h,o,d,l,c,u;if(e=!!document.createElement("canvas").getContext,i=function(){var t=document.createElement("div");t.innerHTML='<v:shape id="vml_flag1" adj="1" />';var i=t.firstChild;return i.style.behavior="url(#default#VML)",!i||"object"==Object(r.a)(i.adj)}(),e||i){if(e){d=function(t){return Math.max(0,Math.min(parseInt(t,16),255))},l=function(t,i){return"rgba("+d(t.substr(0,2))+","+d(t.substr(2,2))+","+d(t.substr(4,2))+","+i+")"},a=function(i){var e=t('<canvas style="width:'+t(i).width()+"px;height:"+t(i).height()+'px;"></canvas>').get(0);return e.getContext("2d").clearRect(0,0,t(i).width(),t(i).height()),e};var f=function(t,i,e,a,n){if(a=a||0,n=n||0,t.beginPath(),"rect"==i)t.rect(e[0]+a,e[1]+n,e[2]-e[0],e[3]-e[1]);else if("poly"==i){t.moveTo(e[0]+a,e[1]+n);for(var r=2;r<e.length;r+=2)t.lineTo(e[r]+a,e[r+1]+n)}else"circ"==i&&t.arc(e[0]+a,e[1]+n,e[2],0,2*Math.PI,!1);t.closePath()};n=function(i,e,a,n,r){var s=i.getContext("2d");if(n.shadow){s.save(),"inside"==n.shadowPosition&&(f(s,e,a),s.clip());var h=100*i.width,o=100*i.height;f(s,e,a,h,o),s.shadowOffsetX=n.shadowX-h,s.shadowOffsetY=n.shadowY-o,s.shadowBlur=n.shadowRadius,s.shadowColor=l(n.shadowColor,n.shadowOpacity);var d=n.shadowFrom;d||(d="outside"==n.shadowPosition?"fill":"stroke"),"stroke"==d?(s.strokeStyle="rgba(0,0,0,1)",s.stroke()):"fill"==d&&(s.fillStyle="rgba(0,0,0,1)",s.fill()),s.restore(),"outside"==n.shadowPosition&&(s.save(),f(s,e,a),s.globalCompositeOperation="destination-out",s.fillStyle="rgba(0,0,0,1);",s.fill(),s.restore())}s.save(),f(s,e,a),n.fill&&(s.fillStyle=l(n.fillColor,n.fillOpacity),s.fill()),n.stroke&&(s.strokeStyle=l(n.strokeColor,n.strokeOpacity),s.lineWidth=n.strokeWidth,s.stroke()),s.restore(),n.fade&&t(i).css("opacity",0).animate({opacity:1},100)},s=function(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}}else a=function(i){return t('<var style="zoom:1;overflow:hidden;display:block;width:'+i.width+"px;height:"+i.height+'px;"></var>').get(0)},n=function(i,e,a,n,r){var s,h,o,d;for(var l in a)a[l]=parseInt(a[l],10);s='<v:fill color="#'+n.fillColor+'" opacity="'+(n.fill?n.fillOpacity:0)+'" />',h=n.stroke?'strokeweight="'+n.strokeWidth+'" stroked="t" strokecolor="#'+n.strokeColor+'"':'stroked="f"',o='<v:stroke opacity="'+n.strokeOpacity+'"/>',"rect"==e?d=t('<v:rect name="'+r+'" filled="t" '+h+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+a[0]+"px;top:"+a[1]+"px;width:"+(a[2]-a[0])+"px;height:"+(a[3]-a[1])+'px;"></v:rect>'):"poly"==e?d=t('<v:shape name="'+r+'" filled="t" '+h+' coordorigin="0,0" coordsize="'+i.width+","+i.height+'" path="m '+a[0]+","+a[1]+" l "+a.join(",")+' x e" style="zoom:1;margin:0;padding:0;display:block;position:absolute;top:0px;left:0px;width:'+i.width+"px;height:"+i.height+'px;"></v:shape>'):"circ"==e&&(d=t('<v:oval name="'+r+'" filled="t" '+h+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+(a[0]-a[2])+"px;top:"+(a[1]-a[2])+"px;width:"+2*a[2]+"px;height:"+2*a[2]+'px;"></v:oval>')),d.get(0).innerHTML=s+o,t(i).append(d)},s=function(i){var e=t("<div>"+i.innerHTML+"</div>");e.children("[name=highlighted]").remove(),t(i).html(e.html())};h=function(t){var i,e,a=(t.getAttribute("shape")||"rect").toLowerCase().substr(0,4);if("defa"!==a){for(e=(t.getAttribute("coords")||"").split(","),i=0;i<e.length;i++)e[i]=parseFloat(e[i]);return[a,e]}},u=function(i,e){var a=t(i);return t.extend({},e,!!t.metadata&&a.metadata(),a.data("maphilight"))},c=function(t){return!!t.complete&&(void 0===t.naturalWidth||0!==t.naturalWidth)},o={position:"absolute",left:0,top:0,padding:0,border:0};var g=!1;t.fn.maphilight=function(r){return r=t.extend({},t.fn.maphilight.defaults,r),e||g||(t(window).ready((function(){document.namespaces.add("v","urn:schemas-microsoft-com:vml");var i=document.createStyleSheet();t.each(["shape","rect","oval","circ","fill","stroke","imagedata","group","textbox"],(function(){i.addRule("v\\:"+this,"behavior: url(#default#VML); antialias:true")}))})),g=!0),this.each((function(){var d,l,f,g,p,m,v;if(d=t(this),!c(this))return window.setTimeout((function(){d.maphilight(r)}),200);if(f=t.extend({},r,!!t.metadata&&d.metadata(),d.data("maphilight")),(v=d.get(0).getAttribute("usemap"))&&(g=t('map[name="'+v.substr(1)+'"]'),d.is('img,input[type="image"]')&&v&&g.length>0)){if(d.hasClass("maphilighted")){var w=d.parent();d.insertBefore(w),w.remove(),t(g).unbind(".maphilight")}this.src.replace(/[\n\r]/g,""),l=t("<div></div>").css({display:"block",background:'url("'+this.src+'")',"background-size":"contain","background-repeat":"no-repeat",position:"relative",padding:0,width:this.width,height:this.height}),f.wrapClass&&(!0===f.wrapClass?l.addClass(t(this).attr("class")):l.addClass(f.wrapClass)),d.before(l).css("opacity",1e-10).css(o).remove(),i&&d.css("filter","Alpha(opacity=0)"),l.append(d),p=a(this),t(p).css(o),p.height=this.height,p.width=this.width,t(g).bind("alwaysOn.maphilight",(function(){m&&s(m),e||t(p).empty(),t(g).find("area[coords]").each((function(){var i,r;if((r=u(this,f)).alwaysOn){if(!m&&e&&(m=a(d[0]),t(m).css(o),m.width=d[0].width,m.height=d[0].height,d.before(m)),r.fade=r.alwaysOnFade,!(i=h(this)))return;n(e?m:p,i[0],i[1],r,"")}}))})).trigger("alwaysOn.maphilight").bind("mouseover.maphilight focusin.maphilight",(function(i){var a,r,s=i.target;if(!(r=u(s,f)).neverOn&&!r.alwaysOn){if(!(a=h(s)))return;if(n(p,a[0],a[1],r,"highlighted"),r.groupBy){"string"==typeof r.groupBy&&(r.groupBy=[r.groupBy]);var o=t(this);t.each(r.groupBy,(function(t,i){var e;e=/^[a-zA-Z][\-a-zA-Z]+$/.test(i)?g.find("area["+i+'="'+o.attr(i)+'"]'):g.find(i);var a=this;e.each((function(){if(this!=a){var t=u(this,f);if(!t.neverOn&&!t.alwaysOn){var i=h(this);n(p,i[0],i[1],t,"highlighted")}}}))}))}e||t(p).append("<v:rect></v:rect>")}})).bind("mouseout.maphilight focusout.maphilight",(function(t){s(p)})),d.before(p),d.addClass("maphilighted")}}))},t.fn.maphilight.defaults={fill:!0,fillColor:"000000",fillOpacity:.2,stroke:!0,strokeColor:"ff0000",strokeOpacity:1,strokeWidth:1,fade:!0,alwaysOn:!1,neverOn:!1,groupBy:!1,wrapClass:!0,shadow:!1,shadowX:0,shadowY:0,shadowRadius:6,shadowColor:"000000",shadowOpacity:.8,shadowPosition:"outside",shadowFrom:!1}}else t.fn.maphilight=function(){return this}},"function"==typeof define&&e("3c35")?define(["jquery"],n):n(a.jQuery)},"0ad5":function(t,i,e){t.exports=e.p+"static/img/map_top_block_bg.e771ed21.png"},"48dd":function(t,i,e){t.exports=e.p+"static/img/map.bad6a255.png"},c5f1:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAA4CAYAAABez76GAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEEzNkFCNzlEMDNFMTFFREE4NEM5QkJCMDhEMDQ2RDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEEzNkFCN0FEMDNFMTFFREE4NEM5QkJCMDhEMDQ2RDciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0QTM2QUI3N0QwM0UxMUVEQTg0QzlCQkIwOEQwNDZENyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0QTM2QUI3OEQwM0UxMUVEQTg0QzlCQkIwOEQwNDZENyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq3aLvAAAAm7SURBVHjavFtrbBxHHZ//7O6d7TrJObbrPGxCaCNapU5DX2mjChpQ6AeqRjxUEVC/AJ+CqAIiQKuIItpKSAgVpCIqhPhEEBKCCkRNIiVtI5qkpSHIfdA2DSSV09A68Z0f8d357nb+/NdsrPXcPO/srDTa2d3Z2dnf/P7P2Q13n62wZdiAXf0Nl6PT8CqA0e51dLwOywFauMSggEM7aPNZ6MEmaBewcAmAAc+6L1iouScLAkrtQXM/+AIVtgiMDQhde2iRTahhhw4kFVgtARUuEzC2va8OUjECNcCozpmAwlYBcmGBCQjttXLA+GiPuLcBbJcAdiud20Cli8o0lfc4shMRsmdvLvHDnTETGlCyL5w9jwbQUSOiWjaBxsy3wxQwAfZSn/j0HGc/pupHHETrTEfM9m2b4M9JIGWBsZ1nmjZMw7RFG/cEx1R4WuTj4Er9xX7xGIHzB0dwku36asCeSe4jtgWZPnVFNRYfkQcbQDq2mFihG1y2BMf6xb4Y2F4NEIkYTVCpqS7SfQ+93Ce+k4ItAxUYgNIVm140MshVhHQMaiqkb4aJAQ83PQTZyWsa7MHbinzDJ8b55o+V+HXdDbabzp+S29L93x0t4LAETODBJBf92AQYd/RVXMVJHvx8mQnZnrS+sAXIRu4o8s8TOM8RSInshyvrDG8t8r/dOcE/S9cPypM5E+Ge1LCEBnBsTGI+TOIW9oAjUDrKzwNEIrJDekZ942V4hBQwy7zwQskJBh+ehUeSdpKo7ZDADy1M8gWpiSzc0d9xUcxaBlEZWDQryM6ur8C0CpwrZbAMU9TunDSufkXfgQEk8ABJyaLQARiduJlETAYv8SU6F2wpsF5iQ47ESBto0nVO7VZLpyvpmDFV7Ff8GpHpR2hMubB46NCKmWcG1G1itlCICa9Jo+olxf2AgjlRWsLketJO0luvZsQqtDBINYk+LAKbFQOL7nECJ3kRUsK/lx9Aivv7p3rEbvKk8xlwQjrO0fkv0fX98j3Uzx8lJR04gORi6vXhROpJ28y4TpxAoZSb6iQu4fE+cYhefr1iJiZIKb9ELCvR9d4aZ7cTc/qaqI5s7K5L/P4QWSMVF1WJpb2qZMUTJZFs8s5Dj5SEj+8TZPckGnxNFb59oRMPyKxNxIi8689YJlKQ0t5H4PCUPVlAQBFPybFbdrxCam8MWLnBYvkwSyVii3TFphk4XaizJ1rJzq2uwWMbZ+GcSnylybA5jsxXxLhDNA8WK2YStUUvQ9H5CPk+Iz7gUDT/5+FJOKJxBwJHP4hblLTWm+aO+SAX5oA0WNVMhzdN8Z+RPrngAg6J5tjwJH9axUjFM2wOoksKB0yhhkuI4eswNumjiXxQmI3y5zR+ySK9s2EWfvSvVdGWZ4byT765KtyUgsMNQWtgYZG3JeMWE88cdZE2HiNnL3h+IHf/K73R7cnxf7qDbaVcsL3Bw7dMA8sL/pehMpydyMOWagBbL+X5R5N+XxjI3fenwfyjpRxf4ek5m8y9liTcM1vow6j5+ukVwdD7nfx7714TfCM5v/1i/fCmmXj/tgncHwn2umpUZPZHt11iv0ra7/ig9rtbio09d1+sHU6OSzm4pxzCzvNdfNAgUj5sMQIVDO/d7ytCtiA1qHMWHV6be3A6AjY8GRML+PhgJT44UBVF0itsXUW8TyCIrpiNXuxgOxNMMimQmc3T8GhnDJVUD2HfnJiE1BSvqeKJjhiPDk823j7eH911oj/35OUITg+WxQXJt0FNYYYspJcVa2Wta35/anW0tZjjDxFrvpIc3/NB7eCWUuMtecZ652Di2ir8PNvR2io81VODoi4k6KmJWQLndFKvcSiQE7r+cggf8mQKOMae3qsaTouHW4uNV4k9P6FZ/YctY3nDNBybifBIOWCfolDiEPlLL1uct4U+CPi/XujkL17q4D0kxivXVETRQXS8Fi45a20zOl0j63NPzHFYd+NU45yLl37TJP9lPmYnh6f4r30nZDLHC2+sCg8c74t+4Kh42dUASCW783uiPSdwbiNFusNhyRdTZ7B65wR/nECa81hh/b9IVsR4PsZjK+t41KRLWt1CRyCcr+UExndfrH+BI4Zk0gdID91BlutIXiBqloh1a13MsDSDkznoOnpt7lsEzPHPjc19M43LmtoZln6WjEE6C6BtM1iOi2Spiq8Vwq+Rbnj4ZG+43cQ6zUs11SnaZ9RfITlBwA8l5p6A+qTjGG3rYkr2hZYlXrCIlqmI62fiA+92B6Ubp+NXZiLIHVqb/0Uk8Pyu83NJ0IrjHbxAVuky+UNCtbxM4hqcWRFsvGG68TaFJziyLr+X+rl381Tj6zeXGq9To68OlcVZjzGhL5NCw5KujUFaYK74SvQiZ6gkZjwgU9xFDFjZ4PO5HvEOOZAne6Onuxr4dwLs8fe6eN+JvtwPqU0HAfvULcX6qecHoi8X8/yL5EX/9OPjtWdJTMeqAv7dXcdkDU1sLTXekHI/Lj4Qs4iiVQfJX0yAojORuS5SUV0ETqY+X7obWN41NvdAkHZfqGOJlOubXTG+k7xkOYBOAm8dXY3I5CdhRNw/J/5JYnTd2ko8mhzv/G/tt7T/TQpKrEiUZUESHmzSqpcko9hOapUbUp+qwDIwxE2MWJYnxy9YVceyhpmqzKFL0WUZbYxDFysGFlESGnB1VkULELGsoRFtNKRYTWwygWBSF05mXk5H6kBihugYU9agJfJmFt2HCvGJNWzCFsDRujAhs39cBA5WQjD9R5RZkOT2trSDK4tMCfu2LFloMes6X0EowgBhsRDCYTnYBJBKAceZvfC0aE6K2tWTBoMjJxxnn2dAsuVqdJMi103LOyaLpnsG+ph5ZnH9syZeWJzJLHuEJXGOhr6ERtwwwyC0WCtmYQ/6MEgFmJDYIIPEpZdFyWfyyQujQdRUYufjC9kcRbR50qpPbE3ggMKco6KNK0A2Uywc9yZdZA2+Q0cTrwNJlxfKMkene1ibANlY5Zp6NWUOtDpIxSYZJJDqMlgoOZKC+X8niAbjYAMKPcBBkx+kMvM6Brl80W77mgKYw7eBBj1hemlhAMIGDrZi5lU3mv6NEEsAjIsf5gKWi1JGW4IuNDDBxChbDknHJtu6vwkYF71kS88wV+a46CBmEDFg6s//QaPHfP7dYB4K26anmA9bXJW0iRmmpRgZKNN/Ea4ihh6MQg/mOYHjGs0zg19kAwoV5t/6h40nYC7JeW9gWo3FbECZ8tg21rj8HYhLVHcCx9WKtQKUKTvAWPtrV66MwHafHbYxMJe/9tDQDtp4disAtDQp4RLNIlhmFJaZRcvB0vntfwIMAGijTFuynDhmAAAAAElFTkSuQmCC"},e2ae:function(t,i,e){var a,n,r;r=function(){var t,i={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},e=function(){var t=function(t){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=t.xField||t.defaultXField,this._yField=t.yField||t.defaultYField,this._valueField=t.valueField||t.defaultValueField,t.radius&&(this._cfgRadius=t.radius)},e=i.defaultRadius;return t.prototype={_organiseData:function(t,i){var a=t[this._xField],n=t[this._yField],r=this._radi,s=this._data,h=this._max,o=this._min,d=t[this._valueField]||1,l=t.radius||this._cfgRadius||e;s[a]||(s[a]=[],r[a]=[]),s[a][n]?s[a][n]+=d:(s[a][n]=d,r[a][n]=l);var c=s[a][n];return c>h?(i?this.setDataMax(c):this._max=c,!1):c<o?(i?this.setDataMin(c):this._min=c,!1):{x:a,y:n,value:d,radius:l,min:o,max:h}},_unOrganizeData:function(){var t=[],i=this._data,e=this._radi;for(var a in i)for(var n in i[a])t.push({x:a,y:n,radius:e[a][n],value:i[a][n]});return{min:this._min,max:this._max,data:t}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var t=arguments[0],i=t.length;i--;)this.addData.call(this,t[i]);else{var e=this._organiseData(arguments[0],!0);e&&(0===this._data.length&&(this._min=this._max=e.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[e]}))}return this},setData:function(t){var i=t.data,e=i.length;this._data=[],this._radi=[];for(var a=0;a<e;a++)this._organiseData(i[a],!1);return this._max=t.max,this._min=t.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(t){return this._max=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(t){return this._min=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(t){this._coordinator=t},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},t}(),a=function(){var t=function(t){var i=t.gradient||t.defaultGradient,e=document.createElement("canvas"),a=e.getContext("2d");e.width=256,e.height=1;var n=a.createLinearGradient(0,0,256,1);for(var r in i)n.addColorStop(r,i[r]);return a.fillStyle=n,a.fillRect(0,0,256,1),a.getImageData(0,0,256,1).data},i=function(t,i){var e=document.createElement("canvas"),a=e.getContext("2d"),n=t,r=t;if(e.width=e.height=2*t,1==i)a.beginPath(),a.arc(n,r,t,0,2*Math.PI,!1),a.fillStyle="rgba(0,0,0,1)",a.fill();else{var s=a.createRadialGradient(n,r,t*i,n,r,t);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),a.fillStyle=s,a.fillRect(0,0,2*t,2*t)}return e};function e(i){var e=i.container,a=this.shadowCanvas=document.createElement("canvas"),n=this.canvas=i.canvas||document.createElement("canvas"),r=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(i.container)||{});n.className="heatmap-canvas",this._width=n.width=a.width=i.width||+r.width.replace(/px/,""),this._height=n.height=a.height=i.height||+r.height.replace(/px/,""),this.shadowCtx=a.getContext("2d"),this.ctx=n.getContext("2d"),n.style.cssText=a.style.cssText="position:absolute;left:0;top:0;",e.style.position="relative",e.appendChild(n),this._palette=t(i),this._templates={},this._setStyles(i)}return e.prototype={renderPartial:function(t){t.data.length>0&&(this._drawAlpha(t),this._colorize())},renderAll:function(t){this._clear(),t.data.length>0&&(this._drawAlpha(function(t){for(var i=[],e=t.min,a=t.max,n=t.radi,r=(t=t.data,Object.keys(t)),s=r.length;s--;)for(var h=r[s],o=Object.keys(t[h]),d=o.length;d--;){var l=o[d],c=t[h][l],u=n[h][l];i.push({x:h,y:l,value:c,radius:u})}return{min:e,max:a,data:i}}(t)),this._colorize())},_updateGradient:function(i){this._palette=t(i)},updateConfig:function(t){t.gradient&&this._updateGradient(t),this._setStyles(t)},setDimensions:function(t,i){this._width=t,this._height=i,this.canvas.width=this.shadowCanvas.width=t,this.canvas.height=this.shadowCanvas.height=i},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(t){this._blur=0==t.blur?0:t.blur||t.defaultBlur,t.backgroundColor&&(this.canvas.style.backgroundColor=t.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=t.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=t.height||this._height,this._opacity=255*(t.opacity||0),this._maxOpacity=255*(t.maxOpacity||t.defaultMaxOpacity),this._minOpacity=255*(t.minOpacity||t.defaultMinOpacity),this._useGradientOpacity=!!t.useGradientOpacity},_drawAlpha:function(t){for(var e=this._min=t.min,a=this._max=t.max,n=(t=t.data||[]).length,r=1-this._blur;n--;){var s,h=t[n],o=h.x,d=h.y,l=h.radius,c=Math.min(h.value,a),u=o-l,f=d-l,g=this.shadowCtx;this._templates[l]?s=this._templates[l]:this._templates[l]=s=i(l,r);var p=(c-e)/(a-e);g.globalAlpha=p<.01?.01:p,g.drawImage(s,u,f),u<this._renderBoundaries[0]&&(this._renderBoundaries[0]=u),f<this._renderBoundaries[1]&&(this._renderBoundaries[1]=f),u+2*l>this._renderBoundaries[2]&&(this._renderBoundaries[2]=u+2*l),f+2*l>this._renderBoundaries[3]&&(this._renderBoundaries[3]=f+2*l)}},_colorize:function(){var t=this._renderBoundaries[0],i=this._renderBoundaries[1],e=this._renderBoundaries[2]-t,a=this._renderBoundaries[3]-i,n=this._width,r=this._height,s=this._opacity,h=this._maxOpacity,o=this._minOpacity,d=this._useGradientOpacity;t<0&&(t=0),i<0&&(i=0),t+e>n&&(e=n-t),i+a>r&&(a=r-i);for(var l=this.shadowCtx.getImageData(t,i,e,a),c=l.data,u=c.length,f=this._palette,g=3;g<u;g+=4){var p,m=c[g],v=4*m;v&&(p=s>0?s:m<h?m<o?o:m:h,c[g-3]=f[v],c[g-2]=f[v+1],c[g-1]=f[v+2],c[g]=d?f[v+3]:p)}l.data=c,this.ctx.putImageData(l,t,i),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(t){var i=this.shadowCtx.getImageData(t.x,t.y,1,1).data[3],e=this._max,a=this._min;return Math.abs(e-a)*(i/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},e}(),n=(t=!1,"canvas2d"===i.defaultRenderer&&(t=a),t),r=function(){for(var t={},i=arguments.length,e=0;e<i;e++){var a=arguments[e];for(var n in a)t[n]=a[n]}return t},s=function(){var t=function(){function t(){this.cStore={}}return t.prototype={on:function(t,i,e){var a=this.cStore;a[t]||(a[t]=[]),a[t].push((function(t){return i.call(e,t)}))},emit:function(t,i){var e=this.cStore;if(e[t])for(var a=e[t].length,n=0;n<a;n++)(0,e[t][n])(i)}},t}(),a=function(t){var i=t._renderer,e=t._coordinator,a=t._store;e.on("renderpartial",i.renderPartial,i),e.on("renderall",i.renderAll,i),e.on("extremachange",(function(i){t._config.onExtremaChange&&t._config.onExtremaChange({min:i.min,max:i.max,gradient:t._config.gradient||t._config.defaultGradient})})),a.setCoordinator(e)};function s(){var s=this._config=r(i,arguments[0]||{});if(this._coordinator=new t,s.plugin){var h=s.plugin;if(!i.plugins[h])throw new Error("Plugin '"+h+"' not found. Maybe it was not registered.");var o=i.plugins[h];this._renderer=new o.renderer(s),this._store=new o.store(s)}else this._renderer=new n(s),this._store=new e(s);a(this)}return s.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(t){return this._config=r(this._config,t),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(t){return this._store.getValueAt?this._store.getValueAt(t):this._renderer.getValueAt?this._renderer.getValueAt(t):null}},s}();return{create:function(t){return new s(t)},register:function(t,e){i.plugins[t]=e}}},t.exports?t.exports=r():void 0===(n="function"==typeof(a=r)?a.call(i,e,i,t):a)||(t.exports=n)}}]);