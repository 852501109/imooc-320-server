(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3ee8fb2d"],{"1f5b":function(t,e,o){"use strict";o("4d21")},"4d21":function(t,e,o){var n=o("ffc9");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,o("499e").default)("1bc4a33a",n,!0,{sourceMap:!1,shadowMode:!1})},"9da5":function(t,e,o){"use strict";o.r(e),o("ac6a"),o("5df3"),o("4f7f"),o("8e6e"),o("456d"),o("28a5");var n=o("ade3"),l=o("2f62"),a=o("0314");function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function i(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var s={data:function(){return{value:"",filter:"view"!=this.$route.query.filter,param:{id:"",page:1,rows:10,ids:this.$route.query.id},len:"",hisData:[],medaDataTableList:[]}},computed:{computeScrollWidth:function(){return document.querySelector(".top").scrollWidth+"px"}},methods:i(i({},Object(l.b)("metadatacomparison",["GETCOLUMNINFO"])),{},{initScroll:function(){var t=document.querySelector(".bottom_scroll"),e=document.querySelector(".bottom");t.addEventListener("scroll",(function(){e.scrollLeft=t.scrollLeft}))},exportReport:function(){var t=this,e=document.createElement("div"),o=document.querySelector("#domSelector");e.innerHTML=o.innerHTML,e.style.position="absolute",e.style.left="-10000px",document.body.appendChild(e),e.style.width=n;var n=3===this.hisData.length?"1920px":"1320px",l=e.querySelector(".top").querySelectorAll("table"),r=this.hisData[0];e.querySelector(".row").style.width=n,e.querySelector(".row").style.display="flex",e.querySelector(".row").style.justifyContent="space-between",e.querySelectorAll(".col").forEach((function(e){e.style.width=parseInt(n)/t.hisData.length-10+"px"})),l[0].style.width=n,l[1].style.width=n;var i="".concat(r.tableName,"_元数据对比导出_").concat((new Date).getTime());a.default.downloadPDF(e,i),e.parentNode.removeChild(e)},getlist:function(){var t=this;this.GETCOLUMNINFO(this.param).then((function(e){t.hisData=e,t.$nextTick((function(){t.initScroll()}))}))}}),mounted:function(){},created:function(){this.getlist();var t=this.param.ids.split(",");this.len=(24-t.length)/t.length}},c=(o("1f5b"),o("2877")),u=Object(c.a)(s,(function(){var t=this,e=t._self._c;return e("audaque-detail-form-page",[e("div",{staticClass:"pro_info"},[e("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[e("em",{staticClass:"iconfont icondaochu2 audaque-rect-icon",staticStyle:{cursor:"pointer"},on:{click:t.exportReport}},[t._v(" 导出对比报告\n            ")])]),e("div",{attrs:{id:"domSelector"}},[e("div",{staticClass:"top"},[[e("h3",{attrs:{align:"middle"}},[e("b",[t._v("元数据表信息对比")])]),e("br"),e("br"),e("br"),e("el-table",{staticClass:"el-table-common__list",attrs:{"tooltip-effect":"light","highlight-current-row":"",stripe:"",data:t.hisData,border:""}},[e("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"index",label:"序号",index:function(e){return t.$utils._indexMethod(e,t.param.page,t.param.rows)},align:"center",width:"80"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"tableVersion",label:"元数据版本",width:"250"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",[t._v(t._s(o.row.tableVersion))]),e("b",[o.row.tableVersion==o.row.currentVersion?e("span",[t._v("\n                                        (当前版本)")]):t._e()])]}}])}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"schemaName",label:"模式"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",{style:{color:1===new Set(t.hisData.map((function(t){return t.schemaName}))).size?"#000":"#f00"}},[t._v(t._s(o.row.schemaName))])]}}])}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"tableName",label:"表名称"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",{style:{color:1===new Set(t.hisData.map((function(t){return t.tableName}))).size?"#000":"#f00"}},[t._v(t._s(o.row.tableName))])]}}])}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"tableComment",label:"表中文描述"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",{style:{color:1===new Set(t.hisData.map((function(t){return t.tableComment}))).size?"#000":"#f00"}},[t._v(t._s(o.row.tableComment))])]}}])}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"columnNum",label:"表字段个数"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",{style:{color:1===new Set(t.hisData.map((function(t){return t.columnNum}))).size?"#000":"#f00"}},[t._v(t._s(o.row.columnNum))])]}}])})],1)]],2),e("el-header",{staticStyle:{"text-align":"center","font-size":"12px"}},[e("h3",[e("b",[t._v("元数据字段信息对比")])])]),e("div",{staticClass:"bottom"},[[e("div",{staticClass:"row"},t._l(t.hisData,(function(o){return e("div",{key:o.id,staticClass:"col"},[e("h4",{attrs:{align:"middle"}},[e("span",[t._v("元数据版本: ")]),e("span",{style:{color:1===new Set(t.hisData.map((function(t){return t.tableVersion}))).size?"#000":"#f00"}},[e("b",[t._v(t._s(o.tableVersion))])]),o.tableVersion==o.currentVersion?e("span",[e("b",[t._v("(当前版本)")])]):t._e()]),e("el-table",{staticClass:"el-table-common__list",attrs:{"tooltip-effect":"light","highlight-current-row":"",stripe:"",data:o.detailchild,border:""}},[e("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"index",label:"序号",index:function(e){return t.$utils._indexMethod(e,t.param.page,t.param.rows)},align:"center",width:"80"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"columnName",label:"字段名"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",{style:{color:1===new Set(t.hisData.map((function(t){return t.detailchild})).map((function(t){return t[o.$index]})).map((function(t){return t&&t.columnName}))).size?"#000":"#f00"}},[t._v(t._s(o.row.columnName))])]}}],null,!0)}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"columnComment",label:"字段注释"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",{style:{color:1===new Set(t.hisData.map((function(t){return t.detailchild})).map((function(t){return t[o.$index]})).map((function(t){return t&&t.columnComment}))).size?"#000":"#f00"}},[t._v(t._s(o.row.columnComment))])]}}],null,!0)}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"columnType",label:"数据类型"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",{style:{color:1===new Set(t.hisData.map((function(t){return t.detailchild})).map((function(t){return t[o.$index]})).map((function(t){return t&&t.columnType}))).size?"#000":"#f00"}},[t._v(t._s(o.row.columnType))])]}}],null,!0)}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"length",label:"长度"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",{style:{color:1===new Set(t.hisData.map((function(t){return t.detailchild})).map((function(t){return t[o.$index]})).map((function(t){return t&&t.length}))).size?"#000":"#f00"}},[t._v(t._s(o.row.length))])]}}],null,!0)}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"nullAble",label:"是否可为空"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",{style:{color:1===new Set(t.hisData.map((function(t){return t.detailchild})).map((function(t){return t[o.$index]})).map((function(t){return t&&JSON.stringify(t.nullAble)}))).size?"#000":"#f00"}},[t._v(t._s(0==o.row.nullAble?"否":1==o.row.nullAble?"是":""))])]}}],null,!0)})],1)],1)})),0)]],2),t.hisData.length>0?e("div",{staticClass:"bottom_scroll",style:{width:t.computeScrollWidth}},[e("div",{staticClass:"row",style:{width:524*t.hisData.length+"px"}})]):t._e()],1)],1)])}),[],!1,null,"db2a1cd8",null);e.default=u.exports},ffc9:function(t,e,o){(t.exports=o("2350")(!1)).push([t.i,".pro_info .top[data-v-db2a1cd8]{margin-bottom:14px}.pro_info .bottom_scroll[data-v-db2a1cd8]{position:fixed;bottom:10px;height:15px;overflow:auto}.pro_info .bottom[data-v-db2a1cd8]{width:100%;height:50%;overflow:hidden}.pro_info .bottom .row[data-v-db2a1cd8]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.pro_info .bottom .row>div[data-v-db2a1cd8]{width:640px;margin:0 10px}[data-v-db2a1cd8] .audaque-detail-form-page__form-btn{display:none!important}[data-v-db2a1cd8] .pro_info{width:100%;overflow:auto}[data-v-db2a1cd8] .pro_info .iconfont.icondaochu2{padding:12px 11px!important}",""])}}]);